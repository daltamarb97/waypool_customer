{"version":3,"sources":["../../src/pages/findride/driverFindride.module.ts","../../src/pages/findride/driverFindride.ts"],"names":[],"mappings":"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","file":"54.js","sourcesContent":["\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { DriverFindridePage } from './driverFindride';\r\n \r\n@NgModule({\r\n  declarations: [\r\n    DriverFindridePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(DriverFindridePage),\r\n  ],\r\n  exports: [\r\n    DriverFindridePage\r\n  ]\r\n})\r\nexport class DriverFindridePageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/findride/driverFindride.module.ts","import { Component, ViewChild, ElementRef,NgZone, Renderer } from '@angular/core';\r\nimport { Geolocation } from '@ionic-native/geolocation/';\r\nimport { NavController, Platform, ViewController, AlertController, ModalController, ToastController, IonicPage, App, LoadingController } from 'ionic-angular';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { DriverSendCoordsService } from '../../services/d-sendCoords.service';\r\n\r\n// import { authenticationService } from '../../services/driverauthentication.service';\r\nimport { DriverSignUpService } from '../../services/d-signup.service';\r\n// import { Geofence } from '@ionic-native/geofence';\r\nimport { DriverGeofireService } from '../../services/d-geofire.services';\r\nimport { AngularFireDatabase, snapshotChanges } from '@angular/fire/database';\r\nimport { DriverAuthenticationService } from '../../services/d-driverauthentication.service';\r\nimport { DriverSendUsersService } from '../../services/d-sendUsers.service';\r\nimport { DriverTripsService } from '../../services/d-trips.service';\r\nimport { DriverInstancesService } from '../../services/d-instances.services';\r\nimport { FCM } from '@ionic-native/fcm';\r\nimport { Firebase } from '@ionic-native/firebase';\r\nimport { MetricsService } from '../../services/metrics.service';\r\nimport { DriverMetricsService } from '../../services/d-metrics.service';\r\nimport { VariableAst } from '@angular/compiler';\r\n \r\ndeclare var google;\r\n@IonicPage()\r\n@Component({\r\n  selector: 'driver-page-findride',\r\n  templateUrl: 'driverFindride.html'\r\n})\r\nexport class DriverFindridePage {\r\n \r\n\r\n  @ViewChild('map') mapElement: ElementRef;\r\n  @ViewChild('buttonConected',{read:ElementRef}) buttonConected;\r\n  @ViewChild('buttonDshowConectedButton',{read:ElementRef}) buttonDshowConectedButton;\r\n\r\n  map: any;\r\n  markers: any;\r\n  \r\n  // autocomplete/geocoder variables\r\n  \r\n  autocompleteMyPos: any;\r\n  autocompleteMyDest: any;\r\n  GoogleAutocomplete: any;\r\n  GooglePlaces: any;\r\n  geocoder: any\r\n  autocompleteItems: any;\r\n  autocompleteItems2: any[];\r\n\r\n  // waypoints variables\r\n  directionsService: any = null;\r\n  directionsDisplay: any = null;\r\n  bounds: any = null;\r\n  myLatLng: any=[];\r\n  waypoints: any[];\r\n  myLatLngDest:any;\r\n  count:any = 0;\r\n  //¿Adonde vas? \r\n  destinationSelect: any;\r\n  //firebase \r\n  trip:any = {};\r\n  // tripIdFirebase = this.AngularFireAuth.auth.currentUser;\r\n  desFirebase:any;\r\n  houseAddress:any;\r\n  placeAddress:any;\r\n  tripId:any = null;\r\n  orFirebase:any;\r\n  user = this.AngularFireAuth.auth.currentUser.uid;\r\n\r\n  userInfo:any;\r\n  currentUser = this.AngularFireAuth.auth.currentUser;\r\n  //geofire variables\r\n  dbRef:any;\r\n  geoFire:any;\r\n  key;\r\n  driver;\r\n  // driverInfo:any = {};\r\n  geoInfo1:any = {};\r\n  geoInfo2:any = {};\r\n  markerGeolocation:any;\r\n  markerDest:any;\r\n  universityInfo:any;\r\n  //variables for geofire reserves\r\n  reserves= [];\r\n  geocoordinatesOr:any;\r\n  geocoordinatesDest:any;\r\n\r\n  locationUniversity:any ={};\r\n  university:any;\r\n  doGeoquery:boolean;\r\n  keyTrip:any; \r\n  onTrip:any;\r\n  token:any;\r\n  showConectedButton:boolean = true;\r\n  positionDest:any;\r\n  positionOr:any;\r\n  lat:any;\r\n  lng:any;\r\n  myInfoAboutMyPlace:any;\r\n  schedules = [];\r\n  myReserves = [];\r\n  geocoordinatesHouse:any;\r\n  checked:boolean = false;\r\n  driverReserves: any;\r\n  fullReserves = [];\r\n  multipleDestinations:any = [];\r\n  showList: boolean;\r\n  positionOrMarker: any;\r\n  markersOr: any = [];\r\n  markersDest: any = [];\r\n  geocoordinatesDestName: any;\r\n  destName: any;\r\n  multipleLocations:boolean;\r\n  zonesToIterate:any;\r\n  pointsAlongRoute = [];\r\n  indexesOfPointsAlongRoute = [];\r\n  usingGeolocation:boolean = false;\r\n  originName:any;\r\n  originCoords:any;\r\n  destinationName:any;\r\n  destinationCoords:any;\r\n  originInfo:any;\r\n  destinationInfo:any;\r\n  constructor( private geofireService: DriverGeofireService,public TripsService:DriverTripsService, public afDB: AngularFireDatabase, public navCtrl: NavController,public SignUpService:DriverSignUpService,public modalCtrl: ModalController,private authenticationService: DriverAuthenticationService, public geolocation: Geolocation,public zone: NgZone, public sendCoordsService: DriverSendCoordsService, private AngularFireAuth: AngularFireAuth, public alertCtrl: AlertController, private toastCtrl: ToastController, private app: App, private sendUsersService: DriverSendUsersService, public instancesService: DriverInstancesService, public firebaseNative: Firebase, private platform: Platform, private fcm: FCM, public loadingCtrl: LoadingController, public renderer: Renderer, private MetricsService: MetricsService, private DriverMetricsService: DriverMetricsService ) {\r\n\r\n    console.log(this.user);\r\n    \r\n    console.log(this.currentUser);\r\n    \r\n    \r\n    this.GoogleAutocomplete = new google.maps.places.AutocompleteService();\r\n    this.geocoder = new google.maps.Geocoder;\r\n\r\n    this.autocompleteMyPos = { input: '' };\r\n    this.autocompleteMyDest = { input: '' };\r\n\r\n    this.autocompleteItems = [];\r\n    this.autocompleteItems2 = [];\r\n\r\n    this.directionsService = new google.maps.DirectionsService();\r\n    this.directionsDisplay = new google.maps.DirectionsRenderer({\r\n      suppressMarkers: true,\r\n  });\r\n    this.bounds = new google.maps.LatLngBounds();\r\n    \r\n    this.markers = [];\r\n    //meter datos por el id del firebase\r\n\r\n } // END OF CONSTRUCTOR\r\n\r\n\r\n ionViewDidLoad(){\r\n\r\n  this.SignUpService.getMyInfoDriver( this.user).subscribe(user=>{\r\n    this.userInfo = user;\r\n   console.log(this.userInfo);\r\n   this.loadMap();\r\n   \r\n  }) \r\n\r\n\r\n    /// MODIFICAR ESTO\r\n    this.afDB.database.ref('driversTest/' + this.user).once('value').then((snap)=>{\r\n      if(snap.val().toggleOnline){\r\n            //user get their check sign of verficiation here\r\n        this.instancesService.isVerifiedPerson( this.user);\r\n  \r\n          \r\n        this.platform.ready().then(()=>{\r\n    \r\n          this.getToken();\r\n    \r\n          //NO BORRAR\r\n          // console.log('aqui cogi el token');\r\n    \r\n          // this.token = this.fcm.getToken().then((token)=>{\r\n          //   console.log('this is the token ' + token);\r\n          //   this.afDB.database.ref( '/drivers/' + this.user + '/devices/').update({\r\n          //     token: token\r\n          //   })\r\n          // })\r\n      })\r\n  \r\n        \r\n      \r\n      //search keyTrip\r\n    \r\n       //search keyTrip\r\n       this.TripsService.getKeyTrip( this.user)\r\n       .subscribe(keyTrip=>{\r\n         this.keyTrip =keyTrip;\r\n         console.log(this.user)\r\n         console.log(this.keyTrip)\r\n         //if key its deleted don't show VIAJE EN CURSO  \r\n         if(this.keyTrip === undefined || this.keyTrip === null){\r\n         this.onTrip=false;\r\n         //  this.TripsService.eraseKeyTrip(this.user);\r\n         //  this.TripsService.setOnTripFalse(this.user);\r\n           console.log(\"llegue adonde era\")\r\n         }else{\r\n           //confirm that trip exist and get it\r\n           this.getTrip();\r\n           \r\n         }\r\n    \r\n    })\r\n    \r\n         \r\n       \r\n       \r\n}else{\r\n    \r\n            //user get their check sign of verficiation here\r\n            this.instancesService.isVerifiedPerson( this.user);\r\n    \r\n\r\n          //logica de instrucciones \r\n        this.afDB.database.ref('/driversTest/' + this.user ).once('value').then((snapWalkthr)=>{\r\n          if(snapWalkthr.val().shownInstructions === true){\r\n            console.log('ya lo mostre');\r\n            \r\n          }else{\r\n            this.app.getRootNav().push('DriverWalkthroughPage');\r\n            this.afDB.database.ref( '/driversTest/' + this.user).update({\r\n              shownInstructions: true\r\n            })\r\n\r\n          }\r\n        })\r\n\r\n\r\n    \r\n          \r\n        this.platform.ready().then(()=>{\r\n    \r\n          // this.getToken();\r\n    \r\n          console.log('aqui cogi el token');\r\n    \r\n          this.token = this.fcm.getToken().then((token)=>{\r\n            console.log('this is the token ' + token);\r\n            this.afDB.database.ref( '/drivers/' + this.user + '/devices/').update({\r\n              token: token\r\n            })\r\n\r\n          })\r\n      })\r\n    \r\n    \r\n       //search keyTrip\r\n       this.TripsService.getKeyTrip( this.user)\r\n       .subscribe(keyTrip=>{\r\n         this.keyTrip =keyTrip;\r\n         console.log(this.user)\r\n         console.log(this.keyTrip)\r\n         //if key its deleted don't show VIAJE EN CURSO  \r\n         if(this.keyTrip === undefined || this.keyTrip === null){\r\n         this.onTrip=false;\r\n         //  this.TripsService.eraseKeyTrip(this.user);\r\n         //  this.TripsService.setOnTripFalse(this.user);\r\n           console.log(\"llegue adonde era\")\r\n         }else{\r\n           //confirm that trip exist and get it\r\n           this.getTrip();\r\n           \r\n         }\r\n    \r\n    })\r\n  }\r\n       \r\n})\r\n}\r\n\r\n\r\nasync getToken() {\r\n\r\n  if (this.platform.is('android')) {\r\n    this.token = await this.firebaseNative.getToken().then((token)=>{\r\n      console.log('this is the token ' + token);\r\n      this.afDB.database.ref( '/drivers/' + this.user + '/devices/').update({\r\n        token: token\r\n      })\r\n    })\r\n  }\r\n\r\n  if (this.platform.is('ios')) {\r\n    await this.firebaseNative.grantPermission();\r\n    this.token = await this.firebaseNative.getToken().then((token)=>{\r\n      console.log('this is the token ' + token);\r\n      this.afDB.database.ref('/drivers/' + this.user + '/devices/').update({\r\n        token: token\r\n      }).then(()=>{\r\n        console.log('DONE DRIVER DEVICE TOKEN');\r\n        \r\n      })\r\n    })\r\n   \r\n  }\r\n\r\n}\r\n\r\n\r\nloadMap(){\r\n\r\n  // this gets current position and set the camera of the map and put a marker in your location\r\n     this.geolocation.getCurrentPosition({enableHighAccuracy: true}).then((position) => {\r\n \r\n       let latLng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\r\n       this.originCoords = {lat:position.coords.latitude,lng:position.coords.longitude};\r\n       console.log(this.originCoords);\r\n       \r\n       let mapOptions = {\r\n           center: latLng,\r\n           zoom: 17,\r\n           mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n           zoomControl: false,\r\n             mapTypeControl: false,\r\n             scaleControl: false,\r\n             streetViewControl: false,\r\n             rotateControl: false,\r\n             fullscreenControl: false,\r\n             styles: [\r\n               {\r\n                 featureType: 'poi',\r\n                 elementType: 'labels.icon',\r\n                 stylers: [\r\n                   {\r\n                     visibility: 'off'\r\n                   }\r\n                 ]\r\n               }\r\n             ]\r\n         }\r\n     //creates the map and give options\r\n       this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\r\n       this.myLatLng = {lat: position.coords.latitude , lng: position.coords.longitude};\r\n       this.usingGeolocation = true;\r\n       this.markerGeolocation = new google.maps.Marker({\r\n        map: this.map,\r\n        animation: google.maps.Animation.DROP,\r\n        position: latLng,\r\n        draggable:true, \r\n         icon: {         url: \"assets/imgs/marker-origin.png\",\r\n        scaledSize: new google.maps.Size(90, 90)    \r\n\r\n      }\r\n      });\r\n       this.markers.push(this.markerGeolocation);\r\n       //allow the marker to be draged and changed the position\r\n       this.dragMarkerOr(this.markerGeolocation,this.autocompleteMyPos)\r\n       \r\n       //to reverse-geocode position\r\n       this.geocodeLatLng(latLng,this.autocompleteMyPos)\r\n  \r\n       \r\n      \r\n       },(err) => {\r\n       console.log(err);    \r\n      });\r\n \r\n   }\r\n \r\n \r\n \r\n  \r\n \r\n \r\n \r\n   \r\n   \r\n    calculateRoute(positionOr,positionDest){\r\n     //tutorial ngclassroom https://blog.ng-classroom.com/blog/ionic2/directions-google-js-ionic/\r\n     //calculate route between markers\r\n \r\n     this.bounds.extend(this.myLatLng);\r\n \r\n     \r\n   \r\n     this.map.fitBounds(this.bounds);\r\n     \r\n     this.directionsService.route({\r\n      origin: positionOr,\r\n       destination: positionDest,\r\n       travelMode: google.maps.TravelMode.DRIVING,\r\n       avoidTolls: true\r\n     }, (response, status)=> {\r\n\r\n      let pointArray = response.routes[0].overview_path;\r\n\r\n      this.pointsAlongRoute = [];\r\n      pointArray.forEach(location => {\r\n        \r\n        this.pointsAlongRoute.push({\r\n          lat:location.lat(),\r\n          lng: location.lng()\r\n        })\r\n\r\n      });\r\n      \r\n      console.log(this.pointsAlongRoute);\r\n      let NumberPointsToDrawDivision = this.pointsAlongRoute.length / 10;\r\n      console.log(NumberPointsToDrawDivision);\r\n\r\n      this.indexesOfPointsAlongRoute = [\r\n        Math.floor(NumberPointsToDrawDivision),\r\n        Math.floor(NumberPointsToDrawDivision*2),\r\n        Math.floor(NumberPointsToDrawDivision*3),\r\n        Math.floor(NumberPointsToDrawDivision*4),\r\n        Math.floor(NumberPointsToDrawDivision*5),\r\n        Math.floor(NumberPointsToDrawDivision*6),\r\n        Math.floor(NumberPointsToDrawDivision*7),\r\n        Math.floor(NumberPointsToDrawDivision*8),\r\n        Math.floor(NumberPointsToDrawDivision*9),\r\n    ]\r\n\r\n\r\n    console.log(this.indexesOfPointsAlongRoute);\r\n    \r\n\r\n       //render\r\n       if(status === google.maps.DirectionsStatus.OK) {\r\n         this.directionsDisplay.setDirections(response);\r\n       }else{\r\n         alert('Could not display directions due to: ' + status);\r\n       }\r\n       \r\n     });  \r\n     \r\n     \r\n   }\r\n   \r\n \r\n \r\n //autocomplete of myPosition searchbar\r\n updateSearchResultsMyPos(){\r\n     if (this.autocompleteMyPos.input == '') {\r\n       this.autocompleteItems = [];     \r\n       return;\r\n     }\r\n     this.GoogleAutocomplete.getPlacePredictions({ input: this.autocompleteMyPos.input, componentRestrictions: {country:'co'} },\r\n     (predictions, status) => {\r\n       this.autocompleteItems = [];\r\n       if(predictions){\r\n         this.zone.run(() => {\r\n           predictions.forEach((prediction) => {\r\n             this.autocompleteItems.push(prediction);\r\n           });\r\n         });\r\n       }\r\n   });\r\n }\r\n   ////autocomplete of my destination Searchbar\r\n   updateSearchResultsMyDest(){\r\n     if (this.autocompleteMyDest.input == '') {\r\n       this.autocompleteItems2 = [];\r\n       return;\r\n     }\r\n     this.GoogleAutocomplete.getPlacePredictions({ input: this.autocompleteMyDest.input, componentRestrictions: {country:'co'} },\r\n     (predictions, status) => {\r\n       this.autocompleteItems2 = [];\r\n       if(predictions){\r\n \r\n \r\n         this.zone.run(() => {\r\n           predictions.forEach((prediction) => {\r\n             this.autocompleteItems2.push(prediction);\r\n           });\r\n         });\r\n       }\r\n   });\r\n }\r\n \r\n   ////select result of my position searchbar\r\n selectSearchResultMyPos(item){\r\n   this.autocompleteItems=[];\r\n \r\n   this.clearMarkers();\r\n \r\n   this.geocoder.geocode({'placeId': item.place_id}, (results, status) => {\r\n     if(status === 'OK' && results[0]){\r\n       \r\n       // let position = {\r\n       //     lat: results[0].geometry.location.lat,\r\n       //     lng: results[0].geometry.location.lng\r\n       // };\r\n         this.markerGeolocation = new google.maps.Marker({\r\n         position: results[0].geometry.location,\r\n         map: this.map,\r\n         draggable: true,\r\n         icon: {         url: \"assets/imgs/marker-origin-driver.png\",\r\n         scaledSize: new google.maps.Size(90, 90)    \r\n \r\n       },\r\n       animation: google.maps.Animation.DROP,\r\n \r\n       });\r\n       this.dragMarkerOr(this.markerGeolocation,this.autocompleteMyPos)\r\n       this.markers.push( this.markerGeolocation);\r\n       this.map.setCenter(results[0].geometry.location);\r\n       console.log(results[0].geometry.location)\r\n       this.myLatLng = results[0].geometry.location;\r\n       this.usingGeolocation = false;\r\n       this.autocompleteMyPos.input=[item.description]\r\n       this.autocompleteMyDest.input=''\r\n       this.originName =item.description;\r\n       this.originCoords = {lat:results[0].geometry.location.lat(),lng:results[0].geometry.location.lng()};\r\n     }\r\n   })\r\n   \r\n   \r\n }\r\n \r\n   ////select result of my destination searchbar\r\n \r\n selectSearchResultMyDest(item){\r\n   this.autocompleteItems2=[];\r\n   if(this.markerDest!==undefined){\r\n     this.markerDest.setMap(null)\r\n   }\r\n   this.geocoder.geocode({'placeId': item.place_id}, (results, status) => {\r\n     if(status === 'OK' && results[0]){\r\n \r\n       // let position = {\r\n       //   latitude: results[0].geometry.location.lat,\r\n       //   longitude: results[0].geometry.location.lng\r\n       // };\r\n         let position = new google.maps.LatLng( results[0].geometry.location.lat,\r\n          results[0].geometry.location.lng)\r\n           console.log(position)\r\n        this.markerDest = new google.maps.Marker({\r\n         position: results[0].geometry.location,\r\n         map: this.map,\r\n         animation: google.maps.Animation.DROP,\r\n         draggable:true,\r\n            icon: {         url: \"assets/imgs/marker-destination2.png\",\r\n         scaledSize: new google.maps.Size(90, 90)    \r\n \r\n       }\r\n       });\r\n       console.log(position)\r\n       this.map.fitBounds(this.bounds);     \r\n       this.markers.push(this.markerDest);\r\n       this.map.setCenter(results[0].geometry.location);\r\n       console.log(results[0].geometry.location.lat())\r\n       this.autocompleteMyDest.input=[item.description]\r\n       this.dragMarkerDest(this.markerDest,this.autocompleteMyDest)\r\n       this.directionsDisplay.setMap(this.map);\r\n       this.myLatLngDest= results[0].geometry.location;\r\n       this.destinationName =item.description;\r\n       this.destinationCoords = {lat:results[0].geometry.location.lat(),lng:results[0].geometry.location.lng()};\r\n       this.calculateRoute(this.markerGeolocation.position,results[0].geometry.location);\r\n      \r\n      \r\n     }\r\n   })\r\n   \r\n }\r\n ////////Markers\r\n clearMarkers(){\r\n     for (var i = 0; i < this.markers.length; i++) {\r\n       \r\n       this.markers[i].setMap(null);\r\n     }\r\n     this.markers = [];\r\n   }\r\n   \r\n  dragMarkerDest(marker,inputName){\r\n    //allow destination marker to be draged and calculate route with the new position\r\n   google.maps.event.addListener(marker, 'dragend',  (evt) => {\r\n     let lat = marker.getPosition().lat()\r\n     let lng = marker.getPosition().lng()\r\n     let latLng = {lat,lng}\r\n    \r\n     this.map.setCenter(latLng);\r\n     this.geocodeLatLng(latLng,inputName)\r\n     \r\n    this.calculateRoute(this.markerGeolocation.position,latLng);\r\n })\r\n }\r\n dragMarkerOr(marker,inputName){\r\n      //allow origin marker to be draged and calculate route with the new position\r\n \r\n   google.maps.event.addListener(marker, 'dragend',  (evt) => {\r\n     let lat = marker.getPosition().lat()\r\n     let lng = marker.getPosition().lng()\r\n     let latLng = {lat,lng}\r\n    \r\n     this.map.setCenter(latLng);\r\n     this.geocodeLatLng(latLng,inputName)\r\n     if(this.autocompleteMyDest.input == undefined || this.autocompleteMyDest.input==''){\r\n       console.log(\"funciona\")\r\n     } else {\r\n \r\n       this.calculateRoute(latLng,this.markerDest.position);\r\n \r\n     }\r\n })\r\n }\r\n geocodeLatLng(latLng,inputName) {\r\n \r\n   this.geocoder.geocode({'location': latLng}, (results, status) => {\r\n     if (status === 'OK') {\r\n       if (results[0]) {\r\n          inputName.input=[results[0].formatted_address];\r\n\r\n          this.originName = results[0].formatted_address;\r\n          \r\n       } else {\r\n        alert('No results found');\r\n       }\r\n     } else {\r\n       alert('Geocoder failed due to: ' + status);\r\n     }\r\n                 \r\n \r\n   });\r\n }\r\n\r\n getTrip(){\r\n\r\n    this.afDB.database.ref('/tripsTest/'+ this.user +'/'+ this.keyTrip)\r\n    .once('value').then((snapshot) => {\r\n      let trip = snapshot.val();\r\n      console.log(trip);\r\n\r\n      if(trip === null || trip === undefined){\r\n        console.log(\"borre\");\r\n         this.TripsService.eraseKeyTrip(this.user);\r\n       this.TripsService.setOnTripFalse(this.user);\r\n      }else{\r\n        this.getOnTrip();\r\n      }\r\n    })\r\n    \r\n } \r\n\r\n\r\n getOnTrip(){\r\n   this.TripsService.getOnTrip( this.user)\r\n   .subscribe(onTrip=>{\r\n     this.onTrip =onTrip;\r\n     console.log(this.onTrip)\r\n   })\r\n }\r\n goToTrip(){\r\n  if (this.onTrip === true) {\r\n    console.log('DISPARADOR')\r\n    let modal = this.modalCtrl.create('DriverMyridePage');                      \r\n    modal.present();\r\n  }else{\r\n    this.presentAlert('Error en el viaje','Intenta entrar otra vez, si el error persiste hay un problema con el viaje, porfavor elimina el viaje en Mis reservas','OK')\r\n  }\r\n }\r\n \r\n  \r\ncenterMap(){\r\n\r\n}\r\n\r\n  \r\n\r\n\r\n    presentAlert(title,text,button) {\r\n      let alert = this.alertCtrl.create({\r\n        title: title,\r\n        subTitle: text,\r\n        buttons: [button]\r\n      });\r\n      alert.present();\r\n    }\r\n\r\n  \r\n\r\n   \r\n  \r\n   confirmPrice(keyReserve){\r\n    //  this.doGeoquery = false;\r\n     \r\n      let modal = this.modalCtrl.create('DriverConfirmpricePage', {keyReserve: keyReserve})\r\n      modal.onDidDismiss(data => {\r\n        if(data === true){\r\n          this.navCtrl.push('DriverSuccessNotificationPage');\r\n        }\r\n        \r\n      })\r\n      modal.present();\r\n\r\n   }\r\n\r\n\r\n\r\n   help(){\r\n    const toast = this.toastCtrl.create({\r\n      message: 'En esta página podrás conectarte con compañeros de tu misma universidad que quieran compartir un viaje contigo.',\r\n     showCloseButton:true,\r\n      closeButtonText: 'OK',\r\n              position:'top'\r\n         });\r\n    toast.present();\r\n  }\r\n\r\n\r\n    listride(){\r\n      if(this.currentUser.emailVerified == false){\r\n        const alert = this.alertCtrl.create({\r\n          title: 'Oops!',\r\n          subTitle: 'por favor verifica tu email',\r\n          buttons: ['OK']\r\n        });\r\n        alert.present();  \r\n      }else{\r\n\r\n        this.afDB.database.ref('/driversTest/' + this.user ).once('value').then((snapUser)=>{\r\n          console.log(snapUser.val().documents);\r\n          \r\n          if(snapUser.val().documents.carne === false || snapUser.val().documents.id === false){\r\n            let alert = this.alertCtrl.create({\r\n              title: 'Debes enviar foto de tu identificación y carné empresarial',\r\n              subTitle: 'Es necesaria esta medida de seguridad para aquellos usuarios registrados con correo personal',\r\n              buttons: [\r\n                {\r\n                  text: 'No lo quiero hacer ahora',\r\n                  role: 'cancel',\r\n                },\r\n                {\r\n                  text: 'Enviar Documentos',\r\n                  handler: () => {\r\n                    this.navCtrl.push('DriverUserVerificationPage');\r\n                  }\r\n                }\r\n              ]\r\n            });\r\n            alert.present();\r\n          }else{\r\n\r\n\r\n            try {\r\n              this.orFirebase=[this.autocompleteMyPos.input]\r\n              this.desFirebase=[this.autocompleteMyDest.input]   \r\n              console.log(this.orFirebase);\r\n            if(this.autocompleteMyDest.input ==''|| this.autocompleteMyPos.input==''){\r\n                  this.presentAlert('No tienes toda la informacion','Por favor asegura que tu origen y destino sean correctos','Ok');\r\n                  this.clearMarkers();\r\n                  \r\n                  this.directionsDisplay.setDirections({routes: []});\r\n                  // this.loadMap();\r\n                 } else {\r\n                  \r\n                  this.sendCoordsService.pushcoordinatesDrivers( this.user,this.desFirebase,this.orFirebase)\r\n                  \r\n                  this.originInfo = {coords:this.originCoords,name:this.originName};\r\n                  this.destinationInfo = {coords:this.destinationCoords,name:this.destinationName};\r\n                  \r\n                  this.afDB.database.ref('/reservesTest/'+ this.user).push({\r\n                    driver: this.userInfo,\r\n                    origin: this.originInfo,\r\n                    destination: this.destinationInfo,\r\n                    \r\n                  }).then((snap1)=>{\r\n                    const key1 = snap1.key;\r\n                          this.MetricsService.createdInstantRoutes(this.user,this.desFirebase, this.orFirebase );\r\n\r\n                         // set geofires\r\n                         \r\n                         \r\n                         if(this.usingGeolocation === true){\r\n                          this.geofireService.setGeofireOrNEWTEST( key1, this.myLatLng.lat, this.myLatLng.lng );\r\n                          this.afDB.database.ref('/geofireOr/' + key1).update({\r\n                            driverId: this.userInfo.userId\r\n                          });\r\n\r\n                          console.log('executed geofire Or');\r\n                        \r\n                          this.afDB.database.ref('/reservesTest/'+ this.user + '/' + key1).update({\r\n                              keyTrip: key1 \r\n                          });\r\n                         }else{\r\n                          this.geofireService.setGeofireOrNEWTEST( key1, this.myLatLng.lat(), this.myLatLng.lng() );\r\n                          this.afDB.database.ref('/geofireOr/' + key1).update({\r\n                            driverId: this.userInfo.userId\r\n                          });\r\n\r\n                          console.log('executed geofire Or');\r\n                        \r\n                          this.afDB.database.ref('/reservesTest/'+ this.user + '/' + key1).update({\r\n                              keyTrip: key1 \r\n                          });\r\n                         }\r\n                         \r\n\r\n                        this.geofireService.setGeofireDestNEWTEST( key1, this.myLatLngDest.lat(), this.myLatLngDest.lng() );\r\n                        this.afDB.database.ref('/geofireDest/' + key1).update({\r\n                          driverId: this.userInfo.userId\r\n                       });\r\n                       console.log('executed geofire dest');\r\n                      \r\n                      \r\n                       this.indexesOfPointsAlongRoute.forEach(index=>{\r\n                          this.count++\r\n                          let newKey = key1.concat(this.count)\r\n\r\n                          \r\n                          \r\n                          this.geofireService.setGeofireRoute(newKey, this.pointsAlongRoute[index].lat, this.pointsAlongRoute[index].lng );\r\n                          this.afDB.database.ref('/geofireRoute/' + newKey).update({\r\n                            driverId: this.userInfo.userId,\r\n                            keyTrip: key1\r\n                         });\r\n                        \r\n                        \r\n                      })  \r\n                  console.log('executed geofire route'); \r\n                  this.confirmPrice(key1);\r\n                })\r\n\r\n                  \r\n                        \r\n                }\r\n              \r\n               }\r\n          \r\n               \r\n            catch(error) {\r\n              console.log(error);\r\n\r\n                this.presentAlert('Hay un error en la aplicación','Lo sentimos, por favor para solucionar este problema porfavor envianos un correo a soporte@waypool.com,¡lo solucionaremos!.','Ok') \r\n   \r\n              console.log(this.orFirebase);\r\n          }\r\n          \r\n          }\r\n        })\r\n       \r\n           \r\n        \r\n      }\r\n    \r\n  \r\n  }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/findride/driverFindride.ts"],"sourceRoot":""}