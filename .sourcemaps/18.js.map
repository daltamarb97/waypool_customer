{"version":3,"sources":["../../src/pages/findride/findride.module.ts","../../src/pages/findride/findride.ts"],"names":[],"mappings":"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","file":"18.js","sourcesContent":["\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { FindridePage } from './findride';\r\n \r\n@NgModule({\r\n  declarations: [\r\n    FindridePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(FindridePage),\r\n  ],\r\n  exports: [\r\n    FindridePage\r\n  ]\r\n})\r\nexport class FindridePageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/findride/findride.module.ts","import { Component, ViewChild, ElementRef,NgZone } from '@angular/core';\r\nimport { Geolocation } from '@ionic-native/geolocation';\r\nimport { NavController, Platform, ViewController, AlertController, ModalController, IonicPage, App, ToastController } from 'ionic-angular';\r\nimport { sendCoordsService } from '../../services/sendCoords.service';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { geofireService } from '../../services/geoFire.service';\r\nimport { SignUpService } from '../../services/signup.services';\r\nimport * as firebase from 'firebase';\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport * as GeoFire from 'geofire';\r\nimport { TripsService } from '../../services/trips.service';\r\nimport { Subject } from 'rxjs';\r\nimport { instancesService } from '../../services/instances.service';\r\nimport { FCM } from '@ionic-native/fcm';\r\nimport { Firebase } from '@ionic-native/firebase';\r\n\r\n\r\n \r\ndeclare var google;\r\n@IonicPage()\r\n\r\n@Component({\r\n  selector: 'page-findride',\r\n  templateUrl: 'findride.html'\r\n})\r\nexport class FindridePage {\r\n \r\n  @ViewChild('map') mapElement: ElementRef;\r\n  \r\n  map: any;\r\n  markers: any;\r\n  \r\n  // autocomplete/geocoder variables\r\n  \r\n  autocompleteMyPos: any;\r\n  autocompleteMyDest: any;\r\n  GoogleAutocomplete: any;\r\n  GooglePlaces: any;\r\n  geocoder: any\r\n  autocompleteItems: any;\r\n  autocompleteItems2:any;\r\n  // waypoints variables\r\n  directionsService: any = null;\r\n  directionsDisplay: any = null;\r\n  bounds: any = null;\r\n  myLatLng:any =[];\r\n  waypoints: any[];\r\n  myLatLngDest:any;\r\n  positionDest:any;\r\n  //Â¿Adonde vas? \r\n  destinationSelect: any;\r\n  //firebase \r\n  trip:any;\r\n  // tripIdFirebase = this.AngularFireAuth.auth.currentUser;\r\n  desFirebase:any;\r\n  tripId:any = null;\r\n  orFirebase:any;\r\n  markerDest:any;\r\n  markerGeolocation:any;\r\n  //para acceder al uid en firebase\r\n  //geofire\r\n  geofire1;\r\n  geofire2;\r\n  place:any;\r\n  locationPlace:any ={};\r\n  onTrip:any = false;\r\n  keyTrip:any;\r\n\r\n  //variables for geoquery\r\n  geocoordinatesDest:any ={};\r\n  geocoordinatesOr:any ={};\r\n  userInfo:any;\r\n  placeInfo:any;\r\n\r\n  //variables for geoquey place\r\n  dbRef;\r\n  geoFire;\r\n  geoqueryU;\r\n  geofireOriginConfirmed:boolean = false;\r\n  userUid=this.AngularFireAuth.auth.currentUser.uid;\r\n  user:any;\r\n\r\n  unsubscribe = new Subject;\r\n  token:any;\r\n\r\n\r\n\r\n  driverOnNodeOr:any;\r\n constructor(public navCtrl: NavController, public geolocation: Geolocation,public zone: NgZone, public sendCoordsService: sendCoordsService, private AngularFireAuth: AngularFireAuth, public alertCtrl: AlertController, private geofireService: geofireService, private SignUpService: SignUpService, public modalCtrl: ModalController, private app: App, public afDB: AngularFireDatabase, private TripsService: TripsService, public instanceService: instancesService, private platform: Platform, private fcm: FCM, private firebase: Firebase ) {\r\n  \r\n    this.GoogleAutocomplete = new google.maps.places.AutocompleteService();\r\n    this.geocoder = new google.maps.Geocoder;\r\n\r\n    this.autocompleteMyPos = { input: '' };\r\n    this.autocompleteMyDest = { input: '' };\r\n\r\n    this.autocompleteItems = [];\r\n    this.autocompleteItems2=[];\r\n\r\n    this.directionsService = new google.maps.DirectionsService();\r\n    this.directionsDisplay = new google.maps.DirectionsRenderer({\r\n      suppressMarkers: true,\r\n  });\r\n    this.bounds = new google.maps.LatLngBounds();\r\n    \r\n    this.markers = [];\r\n    // initialize the plugin\r\n  \r\n    console.log(this.SignUpService.userPlace);\r\n\r\n\r\n    this.afDB.database.ref('allUsers/' + this.userUid).once('value').then((snap)=>{\r\n      this.SignUpService.userPlace = snap.val().place;\r\n\r\n      console.log(this.SignUpService.userPlace);\r\n\r\n\r\n      this.platform.ready().then(()=>{\r\n        this.token = this.fcm.getToken().then((token)=>{\r\n          console.log('this is the token ' + token);\r\n          this.afDB.database.ref(this.SignUpService.userPlace + '/users/' + this.userUid + '/devices/').update({\r\n            token: token\r\n          })\r\n        })\r\n\r\n        // this.getToken();\r\n    \r\n    })\r\n\r\n        //search keyTrip\r\n        this.TripsService.getKeyTrip(this.SignUpService.userPlace, this.userUid)\r\n        .subscribe(keyTrip=>{\r\n          this.keyTrip =keyTrip;\r\n          console.log(this.keyTrip)\r\n          //if key its deleted don't show VIAJE EN CURSO  \r\n          if(this.keyTrip === undefined || this.keyTrip === null){\r\n           this.onTrip=false;\r\n            this.TripsService.eliminateKeyTrip(this.SignUpService.userPlace, this.userUid);\r\n            this.TripsService.eliminatingOnTrip(this.SignUpService.userPlace, this.userUid);\r\n            console.log(\"llegue adonde era\")\r\n          }else{\r\n            //confirm that trip exist and get it\r\n            this.getOnTrip();\r\n          }\r\n         \r\n        })\r\n\r\n\r\n\r\n        this.SignUpService.getMyInfo(this.userUid, this.SignUpService.userPlace).takeUntil(this.unsubscribe).subscribe(user=>{\r\n          this.user = user;\r\n          //  this.keyTrip = this.user.keyTrip\r\n          console.log(this.user)\r\n          if(this.user.saveTrip === undefined || this.user.saveTrip === null){\r\n            console.log(\"AAAAAAAAAAAAAAAAAAAAA\")\r\n              }else{\r\n            console.log(this.user.trip)\r\n            \r\n                console.log(\"me active\")\r\n                this.TripsService.eliminatingSaveTrip(this.SignUpService.userPlace,this.userUid);\r\n\r\n                this.TripsService.eliminatingOnTrip(this.SignUpService.userPlace, this.userUid);\r\n             \r\n                this.TripsService.eliminateKeyTrip(this.SignUpService.userPlace, this.userUid);\r\n            \r\n                this.TripsService.eliminateAvailableReserves(this.SignUpService.userPlace, this.userUid);\r\n                this.TripsService.eliminateKeyUser(this.SignUpService.userPlace, this.userUid,this.user.trip.keyTrip);\r\n\r\n                this.unsubscribe.next();\r\n                this.unsubscribe.complete();\r\n                setTimeout(() => {\r\n                  \r\n                  this.TripsService.saveTripOnRecords(this.SignUpService.userPlace, this.userUid,this.user.trip);     \r\n\r\n                this.navCtrl.push('RatetripPage',{trip:this.user.trip})\r\n                this.TripsService.eliminateTrip(this.SignUpService.userPlace, this.userUid);     \r\n\r\n                console.log(\"ME ACTIVEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE\")\r\n                }, 3000);\r\n\r\n              }\r\n\r\n            \r\n        })\r\n\r\n\r\n\r\n        // set geofire key of place to avoid asking users to put where they are going\r\n        this.geofireService.getLocationPlace(this.SignUpService.userPlace).takeUntil(this.unsubscribe).subscribe(place=>{\r\n          this.place = place;\r\n          this.locationPlace = this.place.location;\r\n          this.geofireService.setLocationPlace(this.SignUpService.userPlace, \"some_key\", this.locationPlace.lat, this.locationPlace.lng);\r\n        }) \r\n\r\n\r\n        setTimeout(() => {\r\n          this.SignUpService.getInfoPlace(this.SignUpService.userPlace).takeUntil(this.unsubscribe).subscribe(plac => {\r\n            this.placeInfo = plac;\r\n            \r\n            if(this.placeInfo.emails === undefined){\r\n              if(this.user.documents){\r\n                if(this.user.documents.carne === undefined || this.user.documents.id === undefined){\r\n                  let modal = this.modalCtrl.create('VerificationImagesPage');\r\n                  modal.present();\r\n                }else if(this.user.documents.carne === true || this.user.documents.id === true){\r\n                  this.instanceService.isVerified(this.SignUpService.userPlace, this.userUid);\r\n                }\r\n              }else if(!this.user.documents) {\r\n                console.log('no hay docs')\r\n                let modal = this.modalCtrl.create('VerificationImagesPage');\r\n                modal.present();\r\n              } \r\n            }else{\r\n              this.instanceService.isVerified(this.SignUpService.userPlace, this.userUid);\r\n            }\r\n          })\r\n        }, 1000);\r\n\r\n\r\n\r\n\r\n\r\n    })\r\n\r\n\r\n    //------------------------------------------------------------------------//\r\n\r\n    // if(this.SignUpService.userPlace == undefined){\r\n    //   let modal = this.modalCtrl.create('ConfirmUniversityPage');\r\n    //   modal.onDidDismiss(readyToStart => {\r\n    //     if(readyToStart){\r\n\r\n    //       this.platform.ready().then(()=>{\r\n    //         this.token = this.fcm.getToken().then((token)=>{\r\n    //           console.log('this is the token ' + token);\r\n    //           this.afDB.database.ref(this.SignUpService.userPlace + '/users/' + this.userUid + '/devices/').update({\r\n    //             token: token\r\n    //           })\r\n    //         })\r\n\r\n    //         // this.getToken();\r\n        \r\n    //     })\r\n          \r\n    //       //search keyTrip\r\n    //   this.TripsService.getKeyTrip(this.SignUpService.userPlace, this.userUid)\r\n    //   .subscribe(keyTrip=>{\r\n    //     this.keyTrip =keyTrip;\r\n    //     console.log(this.keyTrip)\r\n    //     //if key its deleted don't show VIAJE EN CURSO  \r\n    //     if(this.keyTrip === undefined || this.keyTrip === null){\r\n    //      this.onTrip=false;\r\n    //       this.TripsService.eliminateKeyTrip(this.SignUpService.userPlace, this.userUid);\r\n    //       this.TripsService.eliminatingOnTrip(this.SignUpService.userPlace, this.userUid);\r\n    //       console.log(\"llegue adonde era\")\r\n    //     }else{\r\n    //       //confirm that trip exist and get it\r\n    //       this.getOnTrip();\r\n    //     }\r\n       \r\n    //   })\r\n    //       console.log(this.SignUpService.userPlace);\r\n    //       this.SignUpService.getMyInfo(this.userUid, this.SignUpService.userPlace).takeUntil(this.unsubscribe).subscribe(user=>{\r\n    //         this.user = user;\r\n    //         //  this.keyTrip = this.user.keyTrip\r\n    //         console.log(this.user)\r\n    //         if(this.user.saveTrip === undefined || this.user.saveTrip === null){\r\n    //           console.log(\"AAAAAAAAAAAAAAAAAAAAA\")\r\n    //             }else{\r\n    //           console.log(this.user.trip)\r\n              \r\n    //               console.log(\"me active\")\r\n    //               this.TripsService.eliminatingSaveTrip(this.SignUpService.userPlace,this.userUid);\r\n\r\n    //               this.TripsService.eliminatingOnTrip(this.SignUpService.userPlace, this.userUid);\r\n               \r\n    //               this.TripsService.eliminateKeyTrip(this.SignUpService.userPlace, this.userUid);\r\n              \r\n    //               this.TripsService.eliminateAvailableReserves(this.SignUpService.userPlace, this.userUid);\r\n    //               this.TripsService.eliminateKeyUser(this.SignUpService.userPlace, this.userUid,this.user.trip.keyTrip);\r\n\r\n    //               this.unsubscribe.next();\r\n    //               this.unsubscribe.complete();\r\n    //               setTimeout(() => {\r\n                    \r\n    //                 this.TripsService.saveTripOnRecords(this.SignUpService.userPlace, this.userUid,this.user.trip);     \r\n\r\n    //               this.navCtrl.push('RatetripPage',{trip:this.user.trip})\r\n    //               this.TripsService.eliminateTrip(this.SignUpService.userPlace, this.userUid);     \r\n\r\n    //               console.log(\"ME ACTIVEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE\")\r\n    //               }, 3000);\r\n\r\n    //             }\r\n\r\n              \r\n    //       })\r\n    //       // set geofire key of university to avoid asking users to put where they are going\r\n    //       this.geofireService.getLocationUniversity(this.SignUpService.userPlace).takeUntil(this.unsubscribe).subscribe(university=>{\r\n    //           this.university = university;\r\n    //           this.locationUniversity = this.university.location;\r\n    //           this.geofireService.setLocationUniversity(this.SignUpService.userPlace, \"some_key\", this.locationUniversity.lat, this.locationUniversity.lng);\r\n    //         })\r\n  \r\n    //     }\r\n\r\n    //     setTimeout(() => {\r\n    //       this.SignUpService.getInfoUniversity(this.SignUpService.userPlace).takeUntil(this.unsubscribe).subscribe(uni => {\r\n    //         this.universityInfo = uni;\r\n            \r\n    //         if(this.universityInfo.email === undefined){\r\n    //           if(this.user.documents){\r\n    //             if(this.user.documents.carne === undefined || this.user.documents.id === undefined){\r\n    //               let modal = this.modalCtrl.create('VerificationImagesPage');\r\n    //               modal.present();\r\n    //             }else if(this.user.documents.carne === true || this.user.documents.id === true){\r\n    //               this.instanceService.isVerified(this.SignUpService.userPlace, this.userUid);\r\n    //             }\r\n    //           }else if(!this.user.documents) {\r\n    //             console.log('no hay docs')\r\n    //             let modal = this.modalCtrl.create('VerificationImagesPage');\r\n    //             modal.present();\r\n    //           } \r\n    //         }else{\r\n    //           this.instanceService.isVerified(this.SignUpService.userPlace, this.userUid);\r\n    //         }\r\n    //       })\r\n    //     }, 1000);\r\n  \r\n        \r\n    //   })\r\n    //   modal.present();\r\n    // }else{\r\n    //       //search keyTrip\r\n    //       this.TripsService.getKeyTrip(this.SignUpService.userPlace, this.userUid)\r\n    //       .subscribe(keyTrip=>{\r\n    //         this.keyTrip =keyTrip;\r\n    //         console.log(this.keyTrip)\r\n    //         //if key its deleted don't show VIAJE EN CURSO  \r\n    //         if(this.keyTrip === undefined || this.keyTrip === null){\r\n    //          this.onTrip=false;\r\n    //           this.TripsService.eliminateKeyTrip(this.SignUpService.userPlace, this.userUid);\r\n    //           this.TripsService.eliminatingOnTrip(this.SignUpService.userPlace, this.userUid);\r\n    //           console.log(\"llegue adonde era\")\r\n    //         }else{\r\n    //           //confirm that trip exist and get it\r\n    //           this.getOnTrip();\r\n    //         }\r\n           \r\n    //       })\r\n    //           console.log(this.SignUpService.userPlace);\r\n    //           this.SignUpService.getMyInfo(this.userUid, this.SignUpService.userPlace).takeUntil(this.unsubscribe).subscribe(user=>{\r\n    //             this.user = user;\r\n    //             //  this.keyTrip = this.user.keyTrip\r\n    //             console.log(this.user)\r\n          \r\n    //           })\r\n    //           // set geofire key of university to avoid asking users to put where they are going\r\n    //           this.geofireService.getLocationUniversity(this.SignUpService.userPlace).takeUntil(this.unsubscribe).subscribe(university=>{\r\n    //               this.university = university;\r\n    //               this.locationUniversity = this.university.location;\r\n    //               this.geofireService.setLocationUniversity(this.SignUpService.userPlace, \"some_key\", this.locationUniversity.lat, this.locationUniversity.lng);\r\n    //             })\r\n\r\n    //             this.SignUpService.getInfoUniversity(this.SignUpService.userPlace).takeUntil(this.unsubscribe).subscribe(uni => {\r\n    //               this.universityInfo = uni;\r\n                  \r\n    //               if(this.universityInfo.email === undefined){\r\n    //                 if(this.user.documents){\r\n    //                   if(this.user.documents.carne === undefined || this.user.documents.id === undefined){\r\n    //                     let modal = this.modalCtrl.create('VerificationImagesPage');\r\n    //                     modal.present();\r\n    //                   }else if(this.user.documents.carne === true || this.user.documents.id === true){\r\n    //                     this.instanceService.isVerified(this.SignUpService.userPlace, this.userUid);\r\n    //                   }\r\n    //                 }else if(!this.user.documents) {\r\n    //                   console.log('no hay docs')\r\n    //                   let modal = this.modalCtrl.create('VerificationImagesPage');\r\n    //                   modal.present();\r\n    //                 } \r\n    //               }else{\r\n    //                 this.instanceService.isVerified(this.SignUpService.userPlace, this.userUid);\r\n    //               }\r\n    //             })    \r\n    // }\r\n\r\n\r\n\r\n  } // END OF CONSTRUCTOR\r\n\r\n\r\n  async getToken() {\r\n\r\n    if (this.platform.is('android')) {\r\n      this.token = await this.firebase.getToken().then((token)=>{\r\n        console.log('this is the token ' + token);\r\n        this.afDB.database.ref(this.SignUpService.userPlace + '/drivers/' + this.user + '/devices/').update({\r\n          token: token\r\n        })\r\n      })\r\n    }\r\n  \r\n    if (this.platform.is('ios')) {\r\n      this.token = await this.firebase.getToken().then((token)=>{\r\n        console.log('this is the token ' + token);\r\n        this.afDB.database.ref(this.SignUpService.userPlace + '/drivers/' + this.user + '/devices/').update({\r\n          token: token\r\n        })\r\n      })\r\n      await this.firebase.grantPermission();\r\n    }\r\n  \r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  getOnTrip(){\r\n    this.TripsService.getOnTrip(this.SignUpService.userPlace, this.userUid) \r\n    .subscribe(onTrip=>{\r\n      this.onTrip =onTrip;\r\n      if(this.onTrip === true){\r\n              this.geofireService.cancelGeofireDest();\r\n              this.geofireService.cancelGeofireOr();\r\n              this.geofireService.cancelGeofireDestLMU();\r\n              this.geofireService.cancelGeofireOrLMU();\r\n      }\r\n      console.log(this.onTrip);\r\n      console.log('ONTRIP')\r\n     \r\n    })\r\n  }\r\n\r\n  \r\n  ionViewDidLoad(){\r\n    this.loadMap();\r\n}\r\n\r\n \r\n  loadMap(){\r\n\r\n // this gets current position and set the camera of the map and put a marker in your location\r\n\r\n    this.geolocation.getCurrentPosition({enableHighAccuracy: true}).then((position) => {\r\n\r\n      let latLng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\r\n  \r\n      let mapOptions = {\r\n          center: latLng,\r\n          zoom: 17,\r\n          mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n          zoomControl: false,\r\n          mapTypeControl: false,\r\n          scaleControl: false,\r\n          streetViewControl: false,\r\n          rotateControl: false,\r\n          fullscreenControl: false,\r\n          styles: [\r\n            {\r\n              featureType: 'poi',\r\n              elementType: 'labels.icon',\r\n              stylers: [\r\n                {\r\n                  visibility: 'off'\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n    //creates the map and give options\r\n      this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\r\n      this.myLatLng = {lat: position.coords.latitude , lng: position.coords.longitude};\r\n  \r\n\r\n      this.markerGeolocation = new google.maps.Marker({\r\n        map: this.map,\r\n        animation: google.maps.Animation.DROP,\r\n        position: latLng,\r\n        draggable:true, \r\n         icon: {         url: \"assets/imgs/marker-origin.png\",\r\n        scaledSize: new google.maps.Size(90, 90)    \r\n\r\n      }\r\n      });\r\n      this.markers.push(this.markerGeolocation);\r\n      \r\n      this.dragMarkerOr(this.markerGeolocation,this.autocompleteMyPos)\r\n      //to reverse-geocode position\r\n      this.geocodeLatLng(latLng,this.autocompleteMyPos)\r\n \r\n      \r\n     \r\n      },(err) => {\r\n      console.log(err);    \r\n     });\r\n\r\n  }\r\n  \r\n  calculateRoute(positionOr,positionDest){\r\n    //tutorial ngclassroom https://blog.ng-classroom.com/blog/ionic2/directions-google-js-ionic/\r\n\r\n    this.bounds.extend(this.myLatLng);\r\n\r\n    \r\n  \r\n    this.map.fitBounds(this.bounds);\r\n    \r\n    this.directionsService.route({\r\n     origin: positionOr,\r\n      destination: positionDest,\r\n      travelMode: google.maps.TravelMode.DRIVING,\r\n      avoidTolls: true\r\n    }, (response, status)=> {\r\n      //render\r\n      if(status === google.maps.DirectionsStatus.OK) {\r\n        this.directionsDisplay.setDirections(response);\r\n      }else{\r\n        alert('Could not display directions due to: ' + status);\r\n      }\r\n      \r\n    });  \r\n    \r\n    \r\n  }\r\n  \r\n\r\n//autocomplete of myPosition searchbar\r\nupdateSearchResultsMyPos(){\r\n    if (this.autocompleteMyPos.input == '') {\r\n      this.autocompleteItems = [];     \r\n      return;\r\n    }\r\n    this.GoogleAutocomplete.getPlacePredictions({ input: this.autocompleteMyPos.input, componentRestrictions: {country:'co'} },\r\n    (predictions, status) => {\r\n      this.autocompleteItems = [];\r\n      if(predictions){\r\n        this.zone.run(() => {\r\n          predictions.forEach((prediction) => {\r\n            this.autocompleteItems.push(prediction);\r\n          });\r\n        });\r\n      }\r\n  });\r\n}\r\n  ////autocomplete of my destination\r\n  updateSearchResultsMyDest(){\r\n    if (this.autocompleteMyDest.input == '') {\r\n      this.autocompleteItems2 = [];\r\n      return;\r\n    }\r\n    this.GoogleAutocomplete.getPlacePredictions({ input: this.autocompleteMyDest.input, componentRestrictions: {country:'co'} },\r\n    (predictions, status) => {\r\n      this.autocompleteItems2 = [];\r\n      if(predictions){\r\n\r\n\r\n        this.zone.run(() => {\r\n          predictions.forEach((prediction) => {\r\n            this.autocompleteItems2.push(prediction);\r\n          });\r\n        });\r\n      }\r\n  });\r\n}\r\n\r\n  ////select result of my position searchbar\r\n  selectSearchResultMyPos(item){\r\n    this.autocompleteItems=[];\r\n  \r\n    this.clearMarkers();\r\n    this.autocompleteMyDest.input=''\r\n    this.geocoder.geocode({'placeId': item.place_id}, (results, status) => {\r\n      if(status === 'OK' && results[0]){\r\n        \r\n        // let position = {\r\n        //     lat: results[0].geometry.location.lat,\r\n        //     lng: results[0].geometry.location.lng\r\n        // };\r\n          this.markerGeolocation = new google.maps.Marker({\r\n          position: results[0].geometry.location,\r\n          map: this.map,\r\n          draggable: true,\r\n          animation: google.maps.Animation.DROP,\r\n          icon: {         url: \"assets/imgs/marker-origin.png\",\r\n          scaledSize: new google.maps.Size(90, 90)    \r\n  \r\n        },\r\n\r\n        });\r\n        this.dragMarkerOr(this.markerGeolocation,this.autocompleteMyPos)\r\n        this.markers.push( this.markerGeolocation);\r\n        this.map.setCenter(results[0].geometry.location);\r\n        this.autocompleteMyPos.input=[item.description]\r\n        this.directionsDisplay.setMap(null);\r\n\r\n      } \r\n    })\r\n    \r\n    \r\n  }\r\n  \r\n    ////select result of my destination searchbar\r\n  \r\n  selectSearchResultMyDest(item){\r\n    this.autocompleteItems2=[];\r\n    if(this.markerDest!==undefined){\r\n      this.markerDest.setMap(null)\r\n    }\r\n    this.geocoder.geocode({'placeId': item.place_id}, (results, status) => {\r\n      if(status === 'OK' && results[0]){\r\n  \r\n        // let position = {\r\n        //   latitude: results[0].geometry.location.lat,\r\n        //   longitude: results[0].geometry.location.lng\r\n        // };\r\n          let position = new google.maps.LatLng( results[0].geometry.location.lat,\r\n           results[0].geometry.location.lng)\r\n            console.log(position)\r\n         this.markerDest = new google.maps.Marker({\r\n          position: results[0].geometry.location,\r\n          map: this.map,\r\n          draggable:true,\r\n          animation: google.maps.Animation.DROP,\r\n\r\n          icon: {         url: \"assets/imgs/marker-destination2.png\",\r\n          scaledSize: new google.maps.Size(90, 90)    \r\n  \r\n        }       \r\n        });\r\n        console.log(position)\r\n        this.map.fitBounds(this.bounds);     \r\n        this.markers.push(this.markerDest);\r\n        this.map.setCenter(results[0].geometry.location);\r\n        console.log(results[0].geometry.location)\r\n        this.autocompleteMyDest.input=[item.description]\r\n        this.dragMarkerDest(this.markerDest,this.autocompleteMyDest)\r\n        this.directionsDisplay.setMap(this.map);\r\n        this.myLatLngDest=results[0].geometry.location\r\n        this.calculateRoute(this.markerGeolocation.position,results[0].geometry.location);\r\n      }\r\n    })\r\n    \r\n  }\r\n////////Markers\r\nclearMarkers(){\r\n    for (var i = 0; i < this.markers.length; i++) {\r\n      console.log(this.markers[i])\r\n      this.markers[i].setMap(null);\r\n    }\r\n    this.markers = [];\r\n  }\r\n  \r\n  \r\n  dragMarkerDest(marker,inputName){\r\n    google.maps.event.addListener(marker, 'dragend',  (evt) => {\r\n      let lat = marker.getPosition().lat()\r\n      let lng = marker.getPosition().lng()\r\n      let latLng = {lat,lng}\r\n     \r\n      this.map.setCenter(latLng);\r\n      this.geocodeLatLng(latLng,inputName)\r\n     this.calculateRoute(this.markerGeolocation.position,latLng);\r\n  })\r\n  }\r\n  dragMarkerOr(marker,inputName){\r\n    google.maps.event.addListener(marker, 'dragend',  (evt) => {\r\n      let lat = marker.getPosition().lat()\r\n      let lng = marker.getPosition().lng()\r\n      let latLng = {lat,lng}\r\n     \r\n      this.map.setCenter(latLng);\r\n      this.geocodeLatLng(latLng,inputName)\r\n      if(this.autocompleteMyDest.input == undefined || this.autocompleteMyDest.input==''){\r\n        console.log(\"funciona\")\r\n      } else {\r\n  \r\n        this.calculateRoute(latLng,this.markerDest.position);\r\n  \r\n      }\r\n  })\r\n  }\r\n\r\n\r\ngeocodeLatLng(latLng,inputName) {\r\n\r\n  this.geocoder.geocode({'location': latLng}, (results, status) => {\r\n    if (status === 'OK') {\r\n      if (results[0]) {\r\n         console.log(results[0].formatted_address)\r\n         inputName.input=[results[0].formatted_address]\r\n      } else {\r\n       alert('No results found');\r\n      }\r\n    } else {\r\n      alert('Geocoder failed due to: ' + status);\r\n    }\r\n                \r\n\r\n  });\r\n}  \r\n\r\n\r\n  listride(){\r\n  if(this.user.trips){\r\n    if(this.user.onTrip == true){\r\n      let alert = this.alertCtrl.create({\r\n        title: 'Estas actualmente en un viaje',\r\n        subTitle: 'No puedes pedir otro viaje ya que en este momento estas en un viaje',\r\n        buttons: ['OK']\r\n      });\r\n      alert.present();\r\n    }else{\r\n      try {\r\n        this.desFirebase=this.autocompleteMyDest.input\r\n        this.orFirebase=this.autocompleteMyPos.input\r\n        console.log(this.desFirebase[0]);\r\n      if(this.autocompleteMyDest.input ==''|| this.autocompleteMyPos.input==''){\r\n            this.presentAlert('No tienes toda la informacion','Por favor asegura que tu origen y destino sean correctos','Ok');\r\n            this.clearMarkers();\r\n            this.directionsDisplay.setDirections({routes: []});\r\n            // AQUI\r\n           } else {\r\n         \r\n             //turn on geoquery place to determine wether the user is in place\r\n        this.setGeofirePlace(this.SignUpService.userPlace ,0.56, this.myLatLngDest.lat(), this.myLatLngDest.lng(), this.userUid);\r\n      \r\n\r\n\r\n        // test: geoqueryU on listride() of findride.ts\r\n        this.geoqueryU.on(\"key_entered\", function(key){\r\n            this.afDB.database.ref(this.SignUpService.userPlace + '/users/'+ this.userUid +'/trips').update({\r\n              origin: this.orFirebase,\r\n              destination: this.desFirebase        \r\n          }).then(()=>{\r\n            this.geocoder.geocode({'address': this.orFirebase[0]}, (results, status)=>{\r\n              if(status==='OK'){\r\n                this.geocoordinatesOr={\r\n                  lat:results[0].geometry.location.lat(),\r\n                  lng: results[0].geometry.location.lng()\r\n                }\r\n              }\r\n                  // turn geofire On\r\n                  if(this.user.onTrip === true){\r\n                    console.log('geofireOr hasnt been activated due ontrip')\r\n                  }else{ \r\n                    this.geofireService.setGeofireOr(this.SignUpService.userPlace, 2, this.geocoordinatesOr.lat, this.geocoordinatesOr.lng, this.userUid);\r\n                    this.geofireService.setGeofireOrLMU(this.SignUpService.userPlace, 2, this.geocoordinatesOr.lat, this.geocoordinatesOr.lng, this.userUid);\r\n                    console.log('executed geofire Or');  \r\n    \r\n                  }\r\n              })\r\n                this.geofireOriginConfirmed = true;\r\n           \r\n          })\r\n          console.log(key + ' detected')\r\n        }.bind(this))\r\n\r\n        setTimeout(()=>{\r\n          if(!this.geofireOriginConfirmed == true){\r\n            this.geocoderDestinationCase();\r\n\r\n          }else{\r\n            this.geofireOriginConfirmed = false;\r\n            console.log('ORIGIN HAS BEEN EXECUTED');\r\n          }\r\n        },1500)\r\n   \r\n        this.confirmNote();\r\n        console.log(\"se ejecuto\")\r\n          \r\n      }\r\n \r\n    }\r\n      catch(error) {\r\n        console.log(\"soy yo\")\r\n        if(this.geofire2 === null || this.geofire2 === undefined ){\r\n          //this is to tell the user to select a place before publishing a trip\r\n          this.presentAlert('InformaciÃ³n Incompleta','no puedes publicar un viaje sin antes seleccionar un lugar de la lista.','Ok') \r\n        }else {\r\n          this.presentAlert('Hay un error en la aplicaciÃ³n','Lo sentimos, por favor para solucionar este problema porfavor envianos un correo a soporte@waypool.com,Â¡lo solucionaremos!.','Ok') \r\n\r\n        }\r\n        }\r\n    }\r\n  }else{\r\n    try {\r\n      this.desFirebase=this.autocompleteMyDest.input\r\n      this.orFirebase=this.autocompleteMyPos.input\r\n      console.log(this.desFirebase[0]);\r\n    if(this.autocompleteMyDest.input ==''|| this.autocompleteMyPos.input==''){\r\n          this.presentAlert('No tienes toda la informacion','Por favor asegura que tu origen y destino sean correctos','Ok');\r\n          this.clearMarkers();\r\n          this.directionsDisplay.setDirections({routes: []});\r\n          // AQUI\r\n         } else {\r\n       \r\n              //turn on geoquery place to determine wether the user is in place\r\n        this.setGeofirePlace(this.SignUpService.userPlace ,0.56, this.myLatLngDest.lat(), this.myLatLngDest.lng(), this.userUid);\r\n      \r\n\r\n\r\n        // test: geoqueryU on listride() of findride.ts\r\n        this.geoqueryU.on(\"key_entered\", function(key){\r\n          this.afDB.database.ref(this.SignUpService.userPlace + '/users/' + this.userUid ).update({\r\n            geofireOrigin: true\r\n          }).then(()=>{\r\n            this.afDB.database.ref(this.SignUpService.userPlace + '/users/'+ this.userUid +'/trips').update({\r\n              origin: this.orFirebase,\r\n              destination: this.desFirebase        \r\n          }).then(()=>{\r\n              this.geocoder.geocode({'address': this.orFirebase[0]}, (results, status)=>{\r\n                if(status==='OK'){\r\n                  this.geocoordinatesOr={\r\n                    lat:results[0].geometry.location.lat(),\r\n                    lng: results[0].geometry.location.lng()\r\n                  }\r\n                }\r\n                   // turn geofire On\r\n                  if(this.user.onTrip === true){\r\n                    console.log('geofireOr hasnt been activated due ontrip')\r\n                  }else{ \r\n                    console.log('AQUI ESTA EL ERROR 2');\r\n                    this.geofireService.setGeofireOr(this.SignUpService.userPlace, 2, this.geocoordinatesOr.lat, this.geocoordinatesOr.lng, this.userUid)\r\n                    this.geofireService.setGeofireOrLMU(this.SignUpService.userPlace, 2, this.geocoordinatesOr.lat, this.geocoordinatesOr.lng, this.userUid)\r\n                    console.log('executed geofire Or');  \r\n    \r\n                  }          \r\n                })\r\n\r\n                this.geofireOriginConfirmed = true;\r\n           \r\n          })\r\n          console.log('directions set')\r\n          })\r\n          console.log(key + ' detected')\r\n        }.bind(this))\r\n\r\n        setTimeout(()=>{\r\n          if(!this.geofireOriginConfirmed == true){\r\n            this.afDB.database.ref(this.SignUpService.userPlace + '/users/'+ this.userUid +'/trips').update({\r\n              origin: this.orFirebase,\r\n              destination: this.desFirebase        \r\n          }).then(() => {\r\n            this.geocoderDestinationCase();\r\n            })\r\n\r\n          }else{\r\n            this.geofireOriginConfirmed = false;\r\n          }\r\n        },1000)\r\n   \r\n        this.confirmNote();\r\n        console.log(\"se ejecuto\")\r\n        }\r\n\r\n       }\r\n    catch(error) {\r\n      console.log(\"soy yo\")\r\n\r\n      if(this.geofire2 === null || this.geofire2=== undefined ){\r\n        //this is to tell the user to select a place before publishing a trip\r\n        this.presentAlert('InformaciÃ³n Incompleta','no puedes publicar un viaje sin antes seleccionar un lugar de la lista.','Ok') \r\n      }else {\r\n        this.presentAlert('Hay un error en la aplicaciÃ³n','Lo sentimos, por favor para solucionar este problema porfavor envianos un correo a soporte@waypool.com,Â¡lo solucionaremos!.','Ok') \r\n\r\n      }\r\n      }\r\n  }\r\n  \r\n}\r\n\r\n    geocoderDestinationCase(){\r\n              this.geocoder.geocode({'address': this.desFirebase[0]}, (results, status)=>{\r\n                if(status==='OK'){\r\n                  this.geocoordinatesDest={\r\n                    lat:results[0].geometry.location.lat(),\r\n                    lng: results[0].geometry.location.lng()\r\n                  }\r\n              }     \r\n                  // turn geofire On\r\n                  if(this.user.onTrip === true){\r\n                    console.log('geofireDest hasnt been activated due ontrip')\r\n                  }else{ \r\n                  this.geofireService.setGeofireDest(this.SignUpService.userPlace , 2, this.geocoordinatesDest.lat, this.geocoordinatesDest.lng, this.userUid);\r\n                  this.geofireService.setGeofireDestLMU(this.SignUpService.userPlace ,2, this.geocoordinatesDest.lat, this.geocoordinatesDest.lng, this.userUid);\r\n                  console.log('executed geofire Dest');  \r\n    \r\n                  }\r\n                })      \r\n    }\r\n\r\n\r\n    presentAlert(title,text,button) {\r\n      let alert = this.alertCtrl.create({\r\n        title: title,\r\n        subTitle: text,\r\n        buttons: [button]\r\n      });\r\n      alert.present();\r\n    }\r\n    \r\n  goToMyReserves(){\r\n    this.app.getRootNav().push('ReservetripPage');\r\n  }\r\n\r\n\r\n  goToTrip(){\r\n      // go to trip      \r\n      if (this.onTrip === true) {\r\n            console.log('DISPARADOR')\r\n            let modal = this.modalCtrl.create('MyridePage');                      \r\n            modal.present();\r\n          }else{\r\n            console.log(\"es undefined\");\r\n          }\r\n           \r\n      } \r\n    \r\n\r\n\r\n  confirmNote(){\r\n    let modal = this.modalCtrl.create('ConfirmNotePage',{or: this.orFirebase,dest:this.desFirebase});\r\n    modal.onDidDismiss(accepted => {\r\n      if(accepted){\r\n        this.app.getRootNav().push('ListridePage');\r\n      }\r\n    })\r\n modal.present();\r\n}\r\n\r\n\r\n        // set geoquery that determines if the person is in place\r\n    setGeofirePlace(place, radius:number, lat, lng, userId):void{ \r\n      \r\n      this.dbRef = this.afDB.database.ref(place + '/geofirePlace/' );\r\n      this.geoFire = new GeoFire(this.dbRef); \r\n\r\n      this.geoqueryU = this.geoFire.query({\r\n        center: [lat, lng],\r\n        radius: radius\r\n      })\r\n\r\n    console.log('geoquery place added');\r\n    }\r\n\r\n    ionViewDidLeave(){\r\n      this.unsubscribe.next();\r\n       this.unsubscribe.complete();\r\n    }\r\n      \r\n\r\n}\r\n   \r\n    \r\n  \r\n  \r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/findride/findride.ts"],"sourceRoot":""}