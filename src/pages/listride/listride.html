<ion-header class="bg-theme">
    <ion-navbar >

        <ion-title class="Title">ESCOGE TU COMPAÃ‘ERO
        </ion-title>
    </ion-navbar>
</ion-header>

<ion-content class="bg-light" class="hideLongText">
    <ion-row class="center-align bg-white flow-ride">
        <ion-col *ngFor = "let originUser of locationOriginUser"  class="hideLongText" col-5>
            <h2>Origen</h2> {{originUser}}
        </ion-col>
        <ion-col col-2 text-center>
            <img src="assets/imgs/baseline_compare_arrows_black_36dp.png">
        </ion-col>
        <ion-col *ngFor = "let destinationUser of locationDestinationUser"  class="hideLongText" col-5>
            <h2>Destino</h2> {{destinationUser}}
        </ion-col>
    </ion-row>
    <div class="iconHelp">
        <ion-icon (click)="help()" name="arrow-dropdown-circle"></ion-icon>

    </div>
    
    <div [ngSwitch]="noReserve">
        <img *ngSwitchCase=true src="assets/imgs/noreserveavailable.png">





        <ng-container *ngSwitchCase=false>
            <ion-card *ngFor = "let trip of initiatedTrips">
                <ion-item>
                    <ion-avatar item-start>
                        <img class="animated infinite pulse" src="assets/imgs/flame.png">
                    </ion-avatar>
                   
                    <div class="name">
                       
                        <h2>{{trip.driver.name| titlecase}} {{trip.driver.lastname| titlecase | slice:0:1}}
                            <ion-icon *ngIf='trip.driver.verifiedPerson' name="ios-checkmark-circle" class="text-hot"></ion-icon>
                        </h2>
                        <p>{{trip.car}}</p>
                    </div>
                    <div class="more">
                        <h2 class="text text-hot">                        
                         $ {{trip.price}}                          
                        </h2>
                       
                    </div>
                </ion-item>
                <ion-card-content >
                    <div  class="ride-detail">
                        <p>
                            <span class="icon-location bg-theme"></span>{{trip.origin}}</p>
                        <p>
                            <span class="icon-location bg-yellow"></span>{{trip.destination}}</p>
                    </div>
                    <ion-row class="center-align">  
                        <ion-col center text-center col-6 text-right style="margin-left: auto;">
                                <h2 class="text text-hot animated infinite pulse">                        
                                        Viaje en curso                         
                                     </h2>  
                                               
                        </ion-col>                
                        
                        <ion-col center text-center col-4 text-right style="margin-left: auto;">
                            <button class="btn bg-hot rounded full text-white" (click)="enterTrip(trip)">Unirme</button>
                                </ion-col>
                    </ion-row>
                </ion-card-content>
            </ion-card>
            <ion-card *ngFor = "let reserve of reservesAvailable">
                <ion-item>
                    <ion-avatar item-start>
                        <img src="assets/imgs/userPicture.png">
                    </ion-avatar>
                   
                    <div class="name">
                        
                        <h2>{{reserve.driver.name| titlecase}} {{reserve.driver.lastname| titlecase | slice:0:1}} 
                            <ion-icon  *ngIf='reserve.driver.verifiedPerson' name="ios-checkmark-circle" class="text-theme"></ion-icon>
                        </h2>
                        <p>{{reserve.car}}</p>
                    </div>
                    <div class="more">
                        <h2 class="text text-theme">                        
                            $ {{reserve.price}}                          
                        </h2>
                       
                    </div>
                </ion-item>
                <ion-card-content >
                    <div  class="ride-detail">
                        <p>
                            <span class="icon-location bg-theme"></span>{{reserve.origin}}</p>
                        <p>
                            <span class="icon-location bg-yellow"></span>{{reserve.destination}}</p>
                    </div>
                    <ion-row class="center-align">  
                            
                            <h2 class="text text-theme">                        
                                Hora de partida: {{reserve.startHour}}                          
                            </h2>                    
                                      
                        
                        <ion-col center text-center col-4 text-right style="margin-left: auto;">
                            <button class="btn bg-theme rounded full text-white" (click)="confirmpopup(reserve)">Unirme</button>
                                </ion-col>
                    </ion-row>
                </ion-card-content>
            </ion-card>
        </ng-container>

       




    </div>
    


</ion-content>
