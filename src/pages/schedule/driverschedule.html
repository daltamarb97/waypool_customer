<!--
  Generated template for the SchedulePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="bg-theme-driver">
    <ion-navbar>
        <ion-title class="text-center">MI HORARIO</ion-title>
    </ion-navbar>
    <div padding-left padding-right>
        <ion-segment [(ngModel)]="schedule">
            <ion-segment-button value=makeYourOwn>
                Arma tu horario
            </ion-segment-button>
            <ion-segment-button value="picture">
                Foto de mi horario
            </ion-segment-button>
        </ion-segment>
    </div>
</ion-header>


<ion-content class="bg-light">
    <div [ngSwitch]="schedule">
      <div *ngSwitchCase="'makeYourOwn'">

        <p text-center padding-top margin-top>Cóloca tu ruta diaria para publicar tus viajes automáticamente</p>
        <ion-row class="center-align row" style="margin-left: 16px; justify-content: center; height: 40px;" >
                    
            <button  #buttonDisconected class="btn bg-theme rounded text-white buttonConnected"   *ngIf="!showConectedButton" (click)="conectDriver()" >
              <ion-icon  name="calendar"></ion-icon>
                 PUBLICAR HORARIO

            </button>
            <button #buttonConected  class="btn bg-theme text-white buttonDisconnected" (click)="disconectDriver()" style="border-radius: 25px;border-color: green;height: 40px; border-color: green;" *ngIf="showConectedButton" >
              <ion-icon  name="calendar"></ion-icon>

              HORARIO PUBLICADO </button>
          
          
      </ion-row>
        <ion-card class="search" >
            <ion-card-content>
  
                <span class="dot bg-theme-driver"></span>
                <ion-searchbar required [(ngModel)]="houseAddress.input" placeholder="Coloca dirección de tu casa"   (click)="createRoute()"></ion-searchbar>
  
              
                  <!-- <ion-icon name="md-locate" (click)="getPositionAndMarker()" class="text-black"></ion-icon> -->
            </ion-card-content>
  
            <ion-card-content>
  
                <span class="dot bg-yellow"></span>           
               <ion-searchbar  required [(ngModel)]="workAddress.input"  id="input2" (click)="createRoute()" placeholder="Coloca dirección de tu trabajo"></ion-searchbar>
              
             </ion-card-content>
             
        </ion-card>
        <p text-center padding-top margin-top>Agrega cada una de las horas en las que vas de tu casa al trabajo/universidad o viceversa</p>
        <div style="display: flex; justify-content: center;">
            <button class="btn text-white bg-theme-driver rounded" style="width: 40%;" (click)='makeSchedule()' (click)="goFindride()">Agregar</button>
        </div>
            <ion-card *ngFor = "let sche of schedules" (click) = 'removeTime(sche)' style="border-radius: 5%;" >
                    <ng-container>
                        <ion-card-content style="display: flex; ">
                            <img [src]="sche.image"  style="height:50px; width:150px;     margin-right: 20px;" />
                            <p>Destino: {{ sche.description }} <br> Hora: <span style="color:#3fb1df;">{{ sche.hour}}</span></p>

                                                                       
                            
                        </ion-card-content>
                    </ng-container>
                </ion-card>

      </div>


      <div *ngSwitchCase="'picture'">
            <p text-center padding-top margin-top>Toma un screenshot o una foto de tu <span style="color:#3fb1df;">HORARIO</span>, mándanoslo y haremos el resto por ti</p>
        
            <div text-center class="verifiy">
                <img src="assets/imgs/v1.png">
            </div>
            <ion-row>
                <ion-col>
                    <p padding-top class="btn-box"><button class="btn text-white bg-theme-driver rounded" style="width: 80%;" (click)="usageCameraSchedule()">Tomar Foto de horario</button></p>
                </ion-col>

                <ion-col>
                        <p padding-top class="btn-box"><button class="btn text-white bg-theme-driver rounded" style="width: 80%;" (click)="accessLibrary()">Subir Foto de galería</button></p>
                    </ion-col>
            </ion-row>
            <br>
            <br>
            <br>
            <ion-row>
                
                    <p padding-top class="skipText"  (click)="skipSchedule()"> No lo quiero hacer ahora </p>
               
            </ion-row>
      </div>
      
    </div>
</ion-content>
