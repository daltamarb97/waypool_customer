{"version":3,"sources":["../../src/pages/showinfocar/showinfocar.module.ts","../../src/pages/showinfocar/showinfocar.ts"],"names":[],"mappings":"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","file":"17.js","sourcesContent":["\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { DriverShowInfoCarPage } from './showinfocar';\r\n \r\n@NgModule({\r\n  declarations: [\r\n    DriverShowInfoCarPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(DriverShowInfoCarPage),\r\n  ],\r\n  exports: [\r\n    DriverShowInfoCarPage\r\n  ]\r\n})\r\nexport class DriverShowInfoCarPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/showinfocar/showinfocar.module.ts","import { Component } from '@angular/core';\r\nimport { NavController, ViewController, ModalController, ToastController, NavParams, IonicPage, AlertController } from 'ionic-angular';\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { DriverSignUpService } from '../../services/d-signup.service';\r\nimport { Subject } from 'rxjs';\r\n\r\n@IonicPage()\r\n\r\n@Component({\r\n  selector: 'driver-page-showinfocar',\r\n  templateUrl: 'driverShowinfocar.html'\r\n})\r\nexport class DriverShowInfoCarPage {\r\nuser:any;\r\nuserUid=this.AngularFireAuth.auth.currentUser.uid;\r\ncarList:any=[];\r\ncarModel:string;\r\nplateNumber:string;\r\ncolor:string;\r\nunsubscribe = new Subject;\r\ndriverInfo:any;\r\n  constructor( public modalCtrl: ModalController,public alertCtrl:AlertController,public navParams: NavParams,public viewCtrl: ViewController,public navCtrl: NavController,public toastCtrl: ToastController,  private AngularFireAuth: AngularFireAuth,private afDB: AngularFireDatabase, public SignUpService: DriverSignUpService) {\r\n    this.user = this.navParams.get('user');\r\n    \r\n    this.afDB.database.ref('/driversTest/' + this.userUid).once('value').then((snap)=>{\r\n      this.driverInfo = snap.val();\r\n    });\r\n\r\n    this.SignUpService.getCar( this.userUid).takeUntil(this.unsubscribe)\r\n    .subscribe( car => {\r\n      this.carList = car;\r\n      console.log(this.carList)\r\n    });\r\n  }\r\n\r\n\r\n  ionViewDidLeave(){\r\n\t\tthis.unsubscribe.next();\r\n\t\tthis.unsubscribe.complete();\r\n  }\r\n  \r\n\r\n  addCar(){\r\n    if(this.carList.length >= 3){\r\n      const alert = this.alertCtrl.create({\r\n        title: 'OPERACION DENEGADA',\r\n        subTitle: 'No puedes tener más de 3 carros en tu cuenta, si quieres agregar otro, elimina alguno de los que tienes',\r\n        buttons: ['OK']\r\n      });\r\n      alert.present();\r\n    }else{\r\n\r\n      //PROBAR CON WIFI DE DANIEL SI EL FOREACH DE ZONES FALLA POR INTERNET\r\n\r\n      if(this.carModel === undefined || this.plateNumber === undefined || this.color === undefined || this.carModel === null || this.plateNumber === null || this.color === null){\r\n        const alert = this.alertCtrl.create({\r\n          title: 'Falta información',\r\n          subTitle: 'Revisa que llenaste toda la información sobre tu vehículo correctamente',\r\n          buttons: ['OK']\r\n        });\r\n        alert.present();\r\n      }else{\r\n        this.SignUpService.addCar( this.userUid,this.carModel,this.plateNumber,this.color)\r\n      }\r\n    }\r\n    \r\n      this.carModel=null; \r\n      this.plateNumber=null;\r\n      this.color=null;   \r\n\r\n  }\r\n\r\n\r\n deleteCar(carKey){\r\n   console.log(carKey)\r\n  this.SignUpService.deleteCar( this.userUid,carKey)    \r\n}\r\n\r\n\r\n  dismiss() {\r\n    this.viewCtrl.dismiss();\r\n  }  \r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/showinfocar/showinfocar.ts"],"sourceRoot":""}