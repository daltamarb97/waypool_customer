{"version":3,"sources":["../../src/pages/p-createcrew/createcrew.module.ts","../../src/pages/p-createcrew/createcrew.ts"],"names":[],"mappings":"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","file":"43.js","sourcesContent":["\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CreateCrewPage } from './createcrew';\n \n@NgModule({\n  declarations: [\n    CreateCrewPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CreateCrewPage),\n  ],\n  exports: [\n    CreateCrewPage\n  ]\n})\nexport class CreateCrewPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/p-createcrew/createcrew.module.ts","import { Component } from '@angular/core';\nimport { NavController, ViewController, NavParams, ToastController, IonicPage, AlertController, LoadingController } from 'ionic-angular';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { SignUpService } from '../../services/signup.services';\nimport { sendCoordsService } from '../../services/sendCoords.service';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { sendUsersService } from '../../services/sendUsers.service';\nimport { geofireService } from '../../services/geoFire.service';\nimport { instancesService } from '../../services/instances.service';\nimport { Subject, onErrorResumeNext } from 'rxjs';\nimport { DriverGeofireService } from '../../services/d-geofire.services';\nimport * as GeoFire from 'geofire';\n\n@IonicPage()\n\n@Component({\n  selector: 'page-createcrew',\n  templateUrl: 'createcrew.html'\n})\nexport class CreateCrewPage {\n\n  startHour:any;\n  userId:any;\n  origin:any;\n  destination:any;\n  latOr:any;\n  lngOr:any;\n  latDest:any;\n  lngDest:any;\n  admin = {};\n  pointsAlongRoute = [];\n  indexesOfPointsAlongRoute = [];\n  count:any = 0;\n  Key_Crew:any;\n  loading:any;\n\n  //geofire variables \n  geoquery1:any;\n  geoquery2:any;\n  geofireOriginConfirmed:boolean;\n  keysIdentifiedInOrigin = [];\n  geoqueryRouteOrigin:any;\n  keysIdentifiedInOriginRoute = [];\n  geofireDestinationConfirmed:boolean;\n  driverOnNodeDest:any;\n  geoqueryRouteDestination:any;\n  keyTripForGeofireInRouteDest:any;\n  driverIdForGeofireInRouteDest:any;\n  geofireDestinationConfirmedOnRoute:boolean;\n  geofireOriginConfirmedOnRoute:boolean;\n  city:any;\n  constructor(public loadingCtrl: LoadingController, public navCtrl: NavController, public sendUsersService:sendUsersService,public toastCtrl: ToastController,public viewCtrl: ViewController,private afDB: AngularFireDatabase, public SignUpService: SignUpService, public sendCoordsService: sendCoordsService,public navParams: NavParams,public AngularFireAuth: AngularFireAuth, private geoFireService: geofireService, public instances: instancesService, public alertCtrl: AlertController, private geofireServicesDr: DriverGeofireService) {\n      this.userId = this.AngularFireAuth.auth.currentUser.uid;\n\n      // Getting info for creating crew in DB\n      this.afDB.database.ref('/usersTest/' + this.userId).once('value').then((snap)=>{\n        if(snap.val()){\n          this.admin = {\n            city: snap.val().city,\n            company: snap.val().company,\n            name: snap.val().name,\n            lastname: snap.val().lastname,\n            phone: snap.val().phone,\n            userId: snap.val().userId,\n            verifiedPerson: snap.val().verifiedPerson,\n          }\n          this.origin = snap.val().trips.origin[0]\n          this.destination = snap.val().trips.destination[0]\n          this.city = snap.val().city\n        }\n        \n      })\n\n\n\n    this.latOr = this.navParams.get('latOr');\n    this.lngOr = this.navParams.get('lngOr');\n    this.latDest = this.navParams.get('latDest');\n    this.lngDest = this.navParams.get('lngDest');\n    this.pointsAlongRoute = this.navParams.get('pointsAlongRoute');\n    this.indexesOfPointsAlongRoute = this.navParams.get('indexesOfPointsAlongRoute');\n  }\n\n\n  dismiss(){\n    this.viewCtrl.dismiss();\n  }\n\n  setCrew(){\n\n    if(this.startHour === undefined){\n      let alert = this.alertCtrl.create({\n        title: 'Por favor confirma la hora a la que iniciaría este viaje',\n        buttons: ['OK']\n      }); \n      alert.present();\n    }else{\n\n      this.afDB.database.ref('/crewsTest/' + this.userId).push({\n        admin: this.admin,\n        startHour: this.startHour,\n        destination: {\n          name: this.destination,\n          coords: {\n            lat: this.latDest,\n            lng: this.lngDest\n          }\n        },\n        origin: {\n          name: this.origin,\n          coords: {\n            lat: this.latOr,\n            lng: this.lngOr\n          }\n        },\n      }).then((snap)=>{\n        this.Key_Crew = snap.key;\n        this.afDB.database.ref('/crewsTest/' + this.userId + '/' + this.Key_Crew).update({\n          crewId: this.Key_Crew\n        }).then(()=>{\n\n                  this.geofireServicesDr.setGeofireOrCrew( this.Key_Crew, this.latOr, this.lngOr );\n                  this.afDB.database.ref('/geofireOrCrew/' + this.Key_Crew,).update({\n                    adminId: this.userId\n                  });\n\n                  console.log('executed geofire Or for crews');\n\n                this.geofireServicesDr.setGeofireDestCrew( this.Key_Crew, this.latDest, this.lngDest);\n                this.afDB.database.ref('/geofireDestCrew/' + this.Key_Crew).update({\n                  adminId: this.userId\n                });\n                \n                console.log('executed geofire dest');\n              \n              \n              this.indexesOfPointsAlongRoute.forEach(index=>{\n                  this.count++\n                  let newKey = this.Key_Crew.concat(this.count)\n\n                  \n                  \n                  this.geofireServicesDr.setGeofireRouteCrew(newKey, this.pointsAlongRoute[index].lat, this.pointsAlongRoute[index].lng );\n                  this.afDB.database.ref('/geofireRouteCrew/' + newKey).update({\n                    adminId: this.userId,\n                    crewId: this.Key_Crew\n                });\n                \n                \n              })  \n\n        })\n\n        \n      }).then(()=>{\n\n        this.afDB.database.ref('allCities/' + this.city ).once('value').then((snapGeoquery)=>{\n\n          this.loading = this.loadingCtrl.create({\n            spinner: 'bubbles',\n            content: `\n              <div class=\"custom-spinner-container\">\n                <div class=\"custom-spinner-box\"></div>\n              </div>`\n              });\n\n          this.setGeofireOr( snapGeoquery.val().geofireOrNotificationsCrew, this.latOr, this.lngOr, this.userId, snapGeoquery.val().geofireDestNotificationsCrew, this.latDest, this.lngDest);\n          this.setGeofireRouteOrigin(snapGeoquery.val().geofireRouteCrew, this.latOr, this.lngOr, snapGeoquery.val().geofireDestNotificationsCrew, this.latDest, this.lngDest, this.userId);\n\n          \n        })\n      })\n    }\n    \n  }\n\n\n\n\n  // GEOFIRE LOGIC FOR LET DRIVERS KNOW THERE IS A NEW GRUOP\n   //geoquery origin\n    setGeofireOr( radiusOr:number, latOr, lngOr, userId, radiusDest:number, latDest, lngDest ):void{ \n  let dbRef = this.afDB.database.ref(  '/geofireOr/' );\n  let geoFire = new GeoFire(dbRef); \n\n  this.geoquery2 = geoFire.query({\n    center: [latOr, lngOr],\n    radius: radiusOr\n  })\n\n    this.keyEnteredOr(radiusDest, latDest, lngDest, userId  );\n    \n    console.log('geoquery or added');\n    }\n\n\n    keyEnteredOr(radiusDest, latDest, lngDest,  userId ){ \n  // var keyEnteredOr = false;\n  this.geoquery2.on(\"key_entered\", function(key, location, distance){\n    //  keyEnteredOr = true;\n     \n     this.geofireOriginConfirmed = true;\n     let orRouteConf = false\n     this.keysIdentifiedInOrigin.push({keyTrip:key, orRouteConf: orRouteConf, distance: distance});\n     \n     if(this.geoquery1){\n\n     }else{\n      this.setGeofireDest(radiusDest, latDest, lngDest, userId);\n     }\n     \n         \n   }.bind(this));\n    }\n\n\n\n      //geoquery origin in route\n    setGeofireRouteOrigin ( radiusRoute:number, lat, lng, radiusDest, latDest, lngDest, userId):void{ \n      // console.log(this.geoquriesRouteOrigin);\n      let dbRef = this.afDB.database.ref(  '/geofireRoute/' );\n      let geoFire = new GeoFire(dbRef); \n\n      this.geoqueryRouteOrigin = geoFire.query({\n        center: [lat, lng],\n        radius: radiusRoute\n      })\n\n      this.keyEnteredRouteOrigin( userId, radiusDest, latDest, lngDest );\n     \n    }\n\n\n    keyEnteredRouteOrigin( userId, radiusDest, latDest, lngDest){\n\n      this.geoqueryRouteOrigin.on(\"key_entered\", function(key, location, distance){\n        \n        this.geofireOriginConfirmedOnRoute = true;\n        let orRouteConf = true\n        \n        this.afDB.database.ref('/geofireRoute/' + key ).once('value').then((snap)=>{\n          // quede aqui, para verificar que las key identificadas son iguales\n          let keyTrip = snap.val().keyTrip;\n          this.keysIdentifiedInOriginRoute.push({\n            keyTrip: keyTrip,\n            orRouteConf: orRouteConf,\n            distance: distance\n          })\n\n        }).then(()=>{\n          if(this.geoquery1){\n\n          }else{\n           this.setGeofireDest(radiusDest, latDest, lngDest, userId);\n          }\n\n        });\n\n        console.log('ENTRE EN ORIGIN EN ROUTE');\n        \n      }.bind(this));\n    }\n\n\n  \n    //geoquery destination\n    setGeofireDest( radiusDest:number, latDest, lngDest, userId):void{ \n      console.log('se prendio geoquery destination, debo salir una sóla vez');\n\n      let dbRef = this.afDB.database.ref(  '/geofireDest/' );\n      let geoFire = new GeoFire(dbRef); \n    \n      this.geoquery1 = geoFire.query({\n        center: [latDest, lngDest],\n        radius: radiusDest\n      })\n    \n      \n      this.keyEnteredDest( userId);\n      \n    \n    console.log('geoquery dest added');\n    }\n\n\n\n    keyEnteredDest( userId ){\n      \n      this.geoquery1.on(\"key_entered\", function(key, location, distance){\n      console.log(key);\n      if(this.keysIdentifiedInOrigin.length !== 0){\n\n        let count = 0\n        for(let element of this.keysIdentifiedInOrigin){\n          count = count + 1\n          if(element.keyTrip === key){\n            this.geofireDestinationConfirmed = true;\n            \n            return this.afDB.database.ref( '/geofireDest/'+ key).once('value').then((snap) => {\n                    this.driverOnNodeDest = snap.val();\n        \n                    this.afDB.database.ref( '/driversTest/' + this.driverOnNodeDest.driverId + '/matchingCrews/' + key).update({\n                        crewId: this.Key_Crew,\n                        adminId: userId,\n                        distance: element.distance,\n                        orRouteConf: element.orRouteConf\n            \n                    })  \n                })\n               \n             \n          }\n  \n          if (count === this.keysIdentifiedInOrigin.length){\n            console.log('si se ejecuto el for de keysOrigin');\n            \n            for(let element of this.keysIdentifiedInOriginRoute){\n  \n              if(element.keyTrip === key){\n                console.log('un key de destination es igual al keytrip que fue identificado en origen');\n  \n                this.geofireDestinationConfirmed = true;\n                return this.afDB.database.ref( '/geofireDest/'+ key).once('value').then((snap) => {\n                  this.driverOnNodeDest = snap.val();\n      \n                  this.afDB.database.ref( '/driversTest/' + this.driverOnNodeDest.driverId + '/matchingCrews/' + key).update({\n                      crewId: this.Key_Crew,\n                      adminId: userId,\n                      distance: element.distance,\n                      orRouteConf: element.orRouteConf\n          \n                  })  \n              })\n              }\n  \n            }\n          }\n        }\n\n      }else if(this.keysIdentifiedInOriginRoute.length !== 0){\n\n        for(let element of this.keysIdentifiedInOriginRoute){\n  \n          if(element.keyTrip === key){\n            console.log('un key de destination es igual al keytrip que fue identificado en origen');\n\n            this.geofireDestinationConfirmed = true;\n            return this.afDB.database.ref( '/geofireDest/'+ key).once('value').then((snap) => {\n              this.driverOnNodeDest = snap.val();\n  \n              this.afDB.database.ref( '/driversTest/' + this.driverOnNodeDest.driverId + '/matchingCrews/' + key).update({\n                  crewId: this.Key_Crew,\n                  adminId: userId,\n                  distance: element.distance,\n                  orRouteConf: element.orRouteConf\n      \n              })  \n          })\n          }\n\n        }\n\n      }else{\n\n      }\n     \n    \n     }.bind(this))\n\n\n     setTimeout(() => {\n      this.geoquery1.on(\"ready\", function(){\n        \n        this.afDB.database.ref('allCities/' + this.city ).once('value').then((snap)=>{\n\n            this.setGeofireRouteDest(snap.val().geofireRouteCrew,  this.latDest, this.lngDest, userId);\n\n        })\n        \n \n      \n    }.bind(this))\n  }, 300);\n }\n\n\n\n    //geoquery destination in route\n    setGeofireRouteDest( radiusRoute:number, lat, lng, userId ):void{ \n      console.log('se ejecutó');\n\n      let dbRef = this.afDB.database.ref(  '/geofireRoute/' );\n      let geoFire = new GeoFire(dbRef); \n    \n      this.geoqueryRouteDestination = geoFire.query({\n        center: [lat, lng],\n        radius: radiusRoute\n      })\n\n\n      this.keyEnteredRouteDest(  userId );\n     \n      \n           \n    }\n\n  \n\n    keyEnteredRouteDest(userId){\n\n      this.geoqueryRouteDestination.on(\"key_entered\", function(key, location, distance){\n  \n        \n        this.afDB.database.ref('/geofireRoute/' + key ).once('value').then((snap)=>{\n          this.keyTripForGeofireInRouteDest = snap.val().keyTrip;\n          this.driverIdForGeofireInRouteDest = snap.val().driverId;\n          \n          \n        }).then(()=>{\n          if(this.keysIdentifiedInOrigin !== 0){\n\n            let count = 0\n            for(let element of this.keysIdentifiedInOrigin){\n              count = count + 1\n              if(element.keyTrip === this.keyTripForGeofireInRouteDest){\n                this.geofireDestinationConfirmedOnRoute = true;\n                \n                return this.afDB.database.ref( '/geofireRoute/'+ key).once('value').then((snap) => {\n                  this.driverIdForGeofireInRouteDest = snap.val().driverId;\n                  this.keyTripForGeofireInRouteDest = snap.val().keyTrip\n      \n                  this.afDB.database.ref( '/driversTest/' + this.driverIdForGeofireInRouteDest + '/matchingCrews/' + this.keyTripForGeofireInRouteDest).update({\n                      crewId: this.Key_Crew,\n                      adminId: userId,\n                      distance: element.distance,\n                      orRouteConf: element.orRouteConf,\n                      destRouteConf: true\n          \n                  })  \n              })\n             \n                 \n              }\n  \n              if(count === this.keysIdentifiedInOrigin.length){\n                for(let element of this.keysIdentifiedInOriginRoute){\n                  if(element.keyTrip === this.keyTripForGeofireInRouteDest){\n                    this.geofireDestinationConfirmedOnRoute = true;\n      \n                    return this.afDB.database.ref( '/geofireRoute/'+ key).once('value').then((snap) => {\n                      this.driverIdForGeofireInRouteDest = snap.val().driverId;\n                      this.keyTripForGeofireInRouteDest = snap.val().keyTrip\n          \n                      this.afDB.database.ref( '/driversTest/' + this.driverIdForGeofireInRouteDest + '/matchingCrews/' + this.keyTripForGeofireInRouteDest).update({\n                          crewId: this.Key_Crew,\n                          adminId: userId,\n                          distance: element.distance,\n                          orRouteConf: element.orRouteConf,\n                          destRouteConf: true\n              \n                      })  \n                  })\n                 \n      \n                  }\n                }\n              }\n            }\n\n          }else{\n            console.log('no hay nada en ' + this.keysIdentifiedInOrigin);\n            \n          }\n        })\n        .then(()=>{\n \n          \n          if(this.keysIdentifiedInOriginRoute !== 0){\n\n            for(let element of this.keysIdentifiedInOriginRoute){\n              if(element.keyTrip === this.keyTripForGeofireInRouteDest){\n                this.geofireDestinationConfirmedOnRoute = true;\n  \n                  return this.afDB.database.ref( '/geofireRoute/'+ key).once('value').then((snap) => {\n                    this.driverIdForGeofireInRouteDest = snap.val().driverId;\n                    this.keyTripForGeofireInRouteDest = snap.val().keyTrip\n        \n                    this.afDB.database.ref( '/driversTest/' + this.driverIdForGeofireInRouteDest + '/matchingCrews/' + this.keyTripForGeofireInRouteDest).update({\n                        crewId: this.Key_Crew,\n                        adminId: userId,\n                        distance: element.distance,\n                        orRouteConf: element.orRouteConf,\n                        destRouteConf: true\n            \n                    })  \n                })\n  \n              }\n            }\n\n          }else{\n\n          }\n         \n        })\n                \n      }.bind(this))\n\n      \n      this.geoqueryRouteDestination.on(\"ready\", function(){\n        this.loading.dismiss();\n        this.viewCtrl.dismiss();\n\n        let alert = this.alertCtrl.create({\n          title: 'Eres administrador de este grupo',\n          subTitle: 'Te notificaremos si algún conductor de Waypool quiere hacer el transporte de este grupo',\n          buttons: ['OK']\n        });\n        alert.present();\n\n      }.bind(this))\n\n    }\n\n\n \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/p-createcrew/createcrew.ts"],"sourceRoot":""}