{"version":3,"sources":["../../src/pages/p-signup/signup.module.ts","../../src/pages/p-signup/signup.ts"],"names":[],"mappings":"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","file":"29.js","sourcesContent":["\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SignupPage } from './signup';\n \n@NgModule({\n  declarations: [\n    SignupPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SignupPage),\n  ],\n  exports: [\n    SignupPage\n  ]\n})\nexport class SignupPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/p-signup/signup.module.ts","\nimport { Component, ViewChild } from '@angular/core';\n\n\nimport { NavController, NavParams, IonicPage, App, LoadingController } from 'ionic-angular';\n\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport { authenticationService } from '../../services/userauthentication.service';\nimport { SignUpService } from '../../services/signup.services';\nimport { AlertController } from 'ionic-angular';\nimport { Content } from 'ionic-angular';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport * as firebase from 'firebase';\nimport { Subject } from 'rxjs';\n\n\ndeclare var google;\n\n@IonicPage()\n\n@Component({\n  selector: 'page-signup',\n  templateUrl: 'signup.html'\n})\nexport class SignupPage {\n\n    @ViewChild(Content) content: Content;\n    user:any ={};\n    tokenId:any = '';\n    userId:any = '';\n    isReadonly = true;\n    private signupGroup: FormGroup;\n    fixedemail:any;\n\n    //variables linked among them \n    emailVar:any;\n    cityVar:any;\n    companyVar:any;\n    company:any;\n    cities = [];\n    arrayEmails = [];\n    email:any;\n    // noShowButton:boolean = false;\n    geocoder: any\n    \n    forLoopsCompleted:any;\n    companyIdentified:boolean = false;\n    unsubscribe = new Subject;\n    emailStringVerification:any;\n    rightEmailOnDatabase:any;\n    zones = [];\n  constructor(public navCtrl: NavController, private afDB: AngularFireDatabase, private formBuilder: FormBuilder, private authenticationService: authenticationService, private SignUpService: SignUpService, public  alertCtrl: AlertController, private AngularFireAuth: AngularFireAuth, public navParams: NavParams, private app: App, public loadingCtrl: LoadingController) {\n\n\n    this.signupGroup = this.formBuilder.group({\n        name: [\"\", Validators.required],\n        lastname: [\"\", Validators.required],\n        email: [\"\", Validators.required],\n        password: [\"\", Validators.required],\n        passwordconf: [\"\", Validators.required],\n        phone: [\"\", Validators.required], \n        city: [\"\", Validators.required],\n        isChecked:[true, Validators.required]\n        \n    })\n\n\n    this.geocoder = new google.maps.Geocoder;\n\n\n    this.SignUpService.getAllCities().takeUntil(this.unsubscribe).subscribe((cities)=>{\n        this.cities = cities;\n        console.log(this.cities);\n    })\n\n\n  }\n\n onChange(){\n\n        this.arrayEmails = [];\n        this.afDB.database.ref('allCities/' + this.cityVar + '/allPlaces').once('value').then((snap)=>{\n            let obj = snap.val();\n    \n            Object.getOwnPropertyNames(obj).forEach((key)=>{\n                this.arrayEmails.push(obj[key].email);\n                console.log(this.arrayEmails);\n                \n                \n            })\n        })  \n            \n     }\n\n\n        noCompanyIdentified(numberToExecute){\n            ++this.forLoopsCompleted;\n            if(this.forLoopsCompleted === numberToExecute){\n                if(this.companyIdentified === false){\n                    const alert = this.alertCtrl.create({\n                        title: 'El correo que ingresaste no concuerda con el de ninguna empresa de la red de Waypool',\n                        subTitle: 'Revisa si escribiste el correo bien o si tu empresa no está en Waypool, envianos un correo a waypooltec@gmail.com',\n                        buttons: ['OK']\n                      });\n                      alert.present(); \n                }\n                \n            }\n        }\n    \n\n\n    scrolling(){\n        this.content.scrollTo(30, 0);\n    };\n\n\n    login(){\n        this.navCtrl.setRoot('LoginPage');\n    }\n     \n    verification(){\n        \n        let loading = this.loadingCtrl.create({\n            spinner: 'crescent',\n            content: `\n              <div class=\"custom-spinner-container\">\n                <div class=\"custom-spinner-box\"></div>\n              </div>`\n              });\n          loading.present(); \n        this.forLoopsCompleted = 0;\n        this.companyIdentified = false;\n        var count = this.arrayEmails.length;\n        for(var i=0; i<count; i++){\n\n            this.emailStringVerification = this.email.indexOf(this.arrayEmails[i]);\n            console.log(this.emailStringVerification);\n            // if(this.emailStringVerification > -1){\n                this.companyIdentified = true;\n                this.rightEmailOnDatabase = this.arrayEmails[i];\n                this.afDB.database.ref('allCities/' + this.cityVar + '/allPlaces').once('value').then((snap)=>{\n                    let obj = snap.val();\n                    Object.getOwnPropertyNames(obj).forEach((key)=>{ \n                        if(obj[key].email === this.rightEmailOnDatabase){\n                            console.log(`la empresa es ${obj[key].name}`);  \n                            this.company = obj[key].name;\n                                // obj[key].zones.forEach(zone => {\n                                //     this.zones.push(zone);\n                                // });                                  \n                            \n                            this.company = 'sitiapp';\n                            this.zones.push('zone3');\n                            \n                            \n                        }\n                    })\n                }).then(()=>{\n                   if(!this.signupGroup.controls['isChecked'].value === true ){\n                            loading.dismiss();\n                            const alert = this.alertCtrl.create({\n                                title: 'No aceptaste nuestros términos y condiciones',\n                                subTitle: 'Debes estar de acuerdo con nustros términos y condiciones para usar Waypool',\n                                buttons: ['OK']\n                            });\n                            alert.present(); \n                        }else{\n                                //creating user on firebase\n                                let userName = this.signupGroup.controls['name'].value;\n                                let userLastName = this.signupGroup.controls['lastname'].value;\n                                let userEmail = this.signupGroup.controls['email'].value \n                                let userPassword = this.signupGroup.controls['password'].value;\n                                let userPhone = this.signupGroup.controls['phone'].value;\n                            \n                        // saving data in variable\n                       \n                            this.user = {\n                                name: userName,\n                                lastname: userLastName,\n                                email: userEmail,\n                                phone: '+57'+userPhone,\n                                createdBy: 'costumer',\n                                company: this.company,\n                                city: this.cityVar,\n                                //this sets documents true by default//\n                                documents:{\n                                    license: true,\n                                    id: true\n                                }\n                            };\n                        \n\n                    \n                                // this.SignUpService.userPlace = userPlace;\n                                    \n                    \n                                if(this.signupGroup.controls['password'].value === this.signupGroup.controls['passwordconf'].value){\n                                    this.authenticationService.registerWithEmail(userEmail, userPassword).then(()=>{\n\n                                        if(!this.user.userId){\n                                            this.AngularFireAuth.auth.onAuthStateChanged((user)=>{\n                                                if(user){\n                                                        user.getIdToken().then((token)=>{\n                                                        this.user.tokenId = token;\n                                                        })\n                                                    if(!this.user.userId){\n                                                        this.user.userId = user.uid;\n                                                    }\n    \n                                                    this.zones.forEach(zone => {\n                                                        this.SignUpService.saveUser(this.user, zone);\n                                                    })\n    \n                                                    this.afDB.database.ref('allCities/'+ this.cityVar + '/allPlaces/' + this.company + '/location').once('value').then((snap)=>{\n                                                        console.log(snap.val());\n                                                        \n                                                        snap.val().forEach(location => {\n                                                            this.SignUpService.setFixedLocationCoordinates(location.zone, this.user.userId, location.lat, location.lng );\n                                                            this.SignUpService.setFixedLocationName(location.zone, this.user.userId, location.name);   \n                                                            this.SignUpService.addPlaceZone(location.zone, this.user.userId);  \n                                                        })\n    \n                                                    }).then(()=>{\n                                                        this.SignUpService.saveUserInAllUsers(this.company, user.uid, this.cityVar);\n                                                    })\n    \n                                                    //send text message with code\n                                                    // this.sendVerificationCode(this.user.userId);\n    \n                                                }else{\n                                                    console.log('there is no user');\n                                                }\n                                            })\n                                        };\n                        \n                                        // sending email verification and verifying whether email is verified or not\n                                        this.AngularFireAuth.auth.onAuthStateChanged((user)=>{\n                                            if(user){\n                                                if(user.emailVerified == false){\n                                                    user.sendEmailVerification();\n                                                    loading.dismiss();\n                                                    const alert = this.alertCtrl.create({\n                                                        title: '¡REGISTRO EXITOSO!',\n                                                        subTitle: 'En los próximos minutos te enviaremos un link de verificación a tu email',\n                                                        buttons: [\n                                                            {\n                                                                text: 'OK',\n                                                                handler: () => {\n                                                                    this.navCtrl.setRoot('LoginPage');\n                                                                }\n                                                            }\n                                                        ]\n                                                    });\n                                                    alert.present();\n                                                console.log(\"verification email has been sent\");\n                                                }else{\n                                                    console.log(\"verification email has not been sent or the email is already verified\");\n                                                }\n                                            }else{\n                                                console.log('there is no user');\n                                            }\n                                        }) \n\n                                    }).catch((error)=>{\n                                        loading.dismiss();\n                                        if(error.code === \"auth/email-already-in-use\"){\n                                            const alert = this.alertCtrl.create({\n                                                title: 'ya existe una cuenta con este correo',\n                                                subTitle: 'Si ya te registraste en WAYPOOL, sólo debes iniciar sesión con los datos con los que te registraste. También puedes estar registrandote con un correo ya existente',\n                                                buttons: ['OK']\n                                            });\n                                            alert.present(); \n                                        }\n                                    })\n                                    \n                                }else{\n                                    loading.dismiss();\n                                    const alert = this.alertCtrl.create({\n                                        title: 'Oops!',\n                                        subTitle: 'las contraseñas no coinciden, intenta de nuevo',\n                                        buttons: ['OK']\n                                    });\n                                    alert.present();\n                                }\n\n                        \n                        }\n                })\n            // }\n            loading.dismiss(); \n            // this.noCompanyIdentified(count);        \n        }\n       \n    }\n\n\n    sendVerificationCode(userId){\n        this.navCtrl.push('VerificationNumberPage', {userId: userId});\n}\n\nionViewDidLeave(){\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/p-signup/signup.ts"],"sourceRoot":""}