{"version":3,"sources":["../../src/pages/p-creategroup/creategroup.module.ts","../../src/pages/p-creategroup/creategroup.ts"],"names":[],"mappings":"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","file":"43.js","sourcesContent":["\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { CreateGroupPage } from './creategroup';\r\n \r\n@NgModule({\r\n  declarations: [\r\n    CreateGroupPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(CreateGroupPage),\r\n  ],\r\n  exports: [\r\n    CreateGroupPage\r\n  ]\r\n})\r\nexport class CreateGroupPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/p-creategroup/creategroup.module.ts","import { Component, ViewChild, ElementRef, Renderer } from '@angular/core';\r\nimport { NavController, ModalController, IonicPage, NavParams, AlertController, LoadingController, ViewController  } from 'ionic-angular';\r\nimport { BoundElementPropertyAst } from '@angular/compiler';\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { DriverGeofireService } from '../../services/d-geofire.services';\r\nimport * as GeoFire from 'geofire';\r\n\r\n@IonicPage()\r\n\r\n@Component({\r\n  selector: 'page-creategroup',\r\n  templateUrl: 'creategroup.html'\r\n})\r\nexport class CreateGroupPage {\r\n  @ViewChild('imageTaxi',{read:ElementRef}) imageTaxi;\r\n  @ViewChild('imageOtherCar',{read:ElementRef}) imageOtherCar;\r\n  otherCar:boolean;\r\n  taxi:boolean;\r\n  startHour;\r\n  userId;\r\n  origin:any;\r\n  destination:any;\r\n  latOr:any;\r\n  lngOr:any;\r\n  latDest:any;\r\n  lngDest:any;\r\n  admin = {};\r\n  pointsAlongRoute = [];\r\n  indexesOfPointsAlongRoute = [];\r\n  count:any = 0;\r\n  Key_Crew:any;\r\n  loading:any;\r\n  seats:number;\r\n  note:string;\r\n\r\n\r\n  //geofire variables \r\n  geoquery1:any;\r\n  geoquery2:any;\r\n  geofireOriginConfirmed:boolean;\r\n  keysIdentifiedInOrigin = [];\r\n  geoqueryRouteOrigin:any;\r\n  keysIdentifiedInOriginRoute = [];\r\n  geofireDestinationConfirmed:boolean;\r\n  driverOnNodeDest:any;\r\n  geoqueryRouteDestination:any;\r\n  keyTripForGeofireInRouteDest:any;\r\n  driverIdForGeofireInRouteDest:any;\r\n  geofireDestinationConfirmedOnRoute:boolean;\r\n  geofireOriginConfirmedOnRoute:boolean;\r\n  city:any;\r\n\r\n  constructor(public viewCtrl:ViewController, public loadingCtrl: LoadingController, public alertCtrl: AlertController, public navCtrl: NavController, public modalCtrl: ModalController,public navParams: NavParams,public renderer: Renderer, private afDB: AngularFireDatabase, private firebaseAuth: AngularFireAuth, private geofireServicesDr: DriverGeofireService) {\r\n    this.userId = this.firebaseAuth.auth.currentUser.uid;\r\n\r\n    let origin = this.navParams.get('origin');\r\n    let destination = this.navParams.get('destination');\r\n    \r\n    this.latOr = origin.lat;\r\n    this.lngOr = origin.lng;\r\n    this.latDest = destination.lat;\r\n    this.lngDest = destination.lng;\r\n    this.pointsAlongRoute = this.navParams.get('pointsAlongRoute');\r\n    this.indexesOfPointsAlongRoute = this.navParams.get('indexesOfPointsAlongRoute');\r\n\r\n\r\n\r\n    // Getting info for creating crew in DB\r\n    this.afDB.database.ref('/usersTest/' + this.userId).once('value').then((snap)=>{\r\n      if(snap.val()){\r\n        this.admin = {\r\n          city: snap.val().city,\r\n          company: snap.val().company,\r\n          name: snap.val().name,\r\n          lastname: snap.val().lastname,\r\n          phone: snap.val().phone,\r\n          userId: snap.val().userId,\r\n          verifiedPerson: snap.val().verifiedPerson,\r\n        }\r\n        this.origin = snap.val().trips.origin[0]\r\n        this.destination = snap.val().trips.destination[0]\r\n        this.city = snap.val().city\r\n      }\r\n      \r\n    })\r\n\r\n  }\r\n  \r\n\r\nselectImageOtherCar(){\r\n  // this is just to change the css\r\n  this.renderer.setElementStyle(this.imageOtherCar.nativeElement,'border-width','3px')\r\n  this.renderer.setElementStyle(this.imageOtherCar.nativeElement,'border-style','solid')\r\n  this.renderer.setElementStyle(this.imageOtherCar.nativeElement,'border-color','green')\r\n\r\n  this.renderer.setElementStyle(this.imageTaxi.nativeElement,'border-width','0px')\r\n  this.otherCar = true;\r\n  this.taxi = false;\r\n\r\n}\r\nselectImageTaxi(){\r\n  // this is just to change the css\r\n  this.renderer.setElementStyle(this.imageTaxi.nativeElement,'border-width','3px')\r\n  this.renderer.setElementStyle(this.imageTaxi.nativeElement,'border-style','solid')\r\n  this.renderer.setElementStyle(this.imageTaxi.nativeElement,'border-color','green')\r\n\r\n  this.renderer.setElementStyle(this.imageOtherCar.nativeElement,'border-width','0px')\r\n  this.otherCar = false;\r\n  this.taxi = true;\r\n\r\n}\r\n\r\n\r\n\r\ncreateGroup(){\r\n  if(this.note === undefined || this.note === null){\r\n    this.note = 'no hay nota'\r\n  }\r\n\r\n  if(this.startHour === undefined){\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Por favor confirma la hora a la que iniciaría este viaje',\r\n      buttons: ['OK']\r\n    }); \r\n    alert.present();\r\n  }else if(this.seats === undefined || this.seats === null){\r\n\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Por favor confirma cuántos puestos dispoibles habrían en este viaje',\r\n      buttons: ['OK']\r\n    }); \r\n    alert.present();\r\n\r\n  }else{\r\n\r\n    this.afDB.database.ref('/crewsTest/' + this.userId).push({\r\n      admin: this.admin,\r\n      startHour: this.startHour,\r\n      seats: this.seats,\r\n      note: this.note,\r\n     \r\n      destination: {\r\n        name: this.destination,\r\n        coords: {\r\n          lat: this.latDest,\r\n          lng: this.lngDest\r\n        }\r\n      },\r\n      origin: {\r\n        name: this.origin,\r\n        coords: {\r\n          lat: this.latOr,\r\n          lng: this.lngOr\r\n        }\r\n      }\r\n    }).then((snap)=>{\r\n      this.Key_Crew = snap.key;\r\n      this.afDB.database.ref('/crewsTest/' + this.userId + '/' + this.Key_Crew).update({\r\n        crewId: this.Key_Crew\r\n      }).then(()=>{\r\n\r\n                this.geofireServicesDr.setGeofireOrCrew( this.Key_Crew, this.latOr, this.lngOr );\r\n                this.afDB.database.ref('/geofireOrCrew/' + this.Key_Crew,).update({\r\n                  adminId: this.userId\r\n                });\r\n\r\n                console.log('executed geofire Or for crews');\r\n\r\n              this.geofireServicesDr.setGeofireDestCrew( this.Key_Crew, this.latDest, this.lngDest);\r\n              this.afDB.database.ref('/geofireDestCrew/' + this.Key_Crew).update({\r\n                adminId: this.userId\r\n              });\r\n              \r\n              console.log('executed geofire dest');\r\n            \r\n            \r\n            this.indexesOfPointsAlongRoute.forEach(index=>{\r\n                this.count++\r\n                let newKey = this.Key_Crew.concat(this.count)\r\n\r\n                \r\n                \r\n                this.geofireServicesDr.setGeofireRouteCrew(newKey, this.pointsAlongRoute[index].lat, this.pointsAlongRoute[index].lng );\r\n                this.afDB.database.ref('/geofireRouteCrew/' + newKey).update({\r\n                  adminId: this.userId,\r\n                  crewId: this.Key_Crew\r\n              });\r\n              \r\n              \r\n            })  \r\n\r\n      })\r\n\r\n      \r\n    }).then(()=>{\r\n\r\n      this.afDB.database.ref('allCities/' + this.city ).once('value').then((snapGeoquery)=>{\r\n\r\n        this.loading = this.loadingCtrl.create({\r\n          spinner: 'bubbles',\r\n          content: `\r\n            <div class=\"custom-spinner-container\">\r\n              <div class=\"custom-spinner-box\"></div>\r\n            </div>`\r\n            });\r\n\r\n        this.setGeofireOr( snapGeoquery.val().geofireOrNotificationsCrew, this.latOr, this.lngOr, this.userId, snapGeoquery.val().geofireDestNotificationsCrew, this.latDest, this.lngDest);\r\n        this.setGeofireRouteOrigin(snapGeoquery.val().geofireRouteCrew, this.latOr, this.lngOr, snapGeoquery.val().geofireDestNotificationsCrew, this.latDest, this.lngDest, this.userId);\r\n\r\n        \r\n      })\r\n    })\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n  // GEOFIRE LOGIC FOR LET DRIVERS KNOW THERE IS A NEW GRUOP\r\n   //geoquery origin\r\n   setGeofireOr( radiusOr:number, latOr, lngOr, userId, radiusDest:number, latDest, lngDest ):void{ \r\n    let dbRef = this.afDB.database.ref(  '/geofireOr/' );\r\n    let geoFire = new GeoFire(dbRef); \r\n  \r\n    this.geoquery2 = geoFire.query({\r\n      center: [latOr, lngOr],\r\n      radius: radiusOr\r\n    })\r\n  \r\n      this.keyEnteredOr(radiusDest, latDest, lngDest, userId  );\r\n      \r\n      console.log('geoquery or added');\r\n      }\r\n  \r\n  \r\n      keyEnteredOr(radiusDest, latDest, lngDest,  userId ){ \r\n    // var keyEnteredOr = false;\r\n    this.geoquery2.on(\"key_entered\", function(key, location, distance){\r\n      //  keyEnteredOr = true;\r\n       \r\n       this.geofireOriginConfirmed = true;\r\n       let orRouteConf = false\r\n       this.keysIdentifiedInOrigin.push({keyTrip:key, orRouteConf: orRouteConf, distance: distance});\r\n       \r\n       if(this.geoquery1){\r\n  \r\n       }else{\r\n        this.setGeofireDest(radiusDest, latDest, lngDest, userId);\r\n       }\r\n       \r\n           \r\n     }.bind(this));\r\n      }\r\n  \r\n  \r\n  \r\n        //geoquery origin in route\r\n      setGeofireRouteOrigin ( radiusRoute:number, lat, lng, radiusDest, latDest, lngDest, userId):void{ \r\n        // console.log(this.geoquriesRouteOrigin);\r\n        let dbRef = this.afDB.database.ref(  '/geofireRoute/' );\r\n        let geoFire = new GeoFire(dbRef); \r\n  \r\n        this.geoqueryRouteOrigin = geoFire.query({\r\n          center: [lat, lng],\r\n          radius: radiusRoute\r\n        })\r\n  \r\n        this.keyEnteredRouteOrigin( userId, radiusDest, latDest, lngDest );\r\n       \r\n      }\r\n  \r\n  \r\n      keyEnteredRouteOrigin( userId, radiusDest, latDest, lngDest){\r\n  \r\n        this.geoqueryRouteOrigin.on(\"key_entered\", function(key, location, distance){\r\n          \r\n          this.geofireOriginConfirmedOnRoute = true;\r\n          let orRouteConf = true\r\n          \r\n          this.afDB.database.ref('/geofireRoute/' + key ).once('value').then((snap)=>{\r\n            // quede aqui, para verificar que las key identificadas son iguales\r\n            let keyTrip = snap.val().keyTrip;\r\n            this.keysIdentifiedInOriginRoute.push({\r\n              keyTrip: keyTrip,\r\n              orRouteConf: orRouteConf,\r\n              distance: distance\r\n            })\r\n  \r\n          }).then(()=>{\r\n            if(this.geoquery1){\r\n  \r\n            }else{\r\n             this.setGeofireDest(radiusDest, latDest, lngDest, userId);\r\n            }\r\n  \r\n          });\r\n  \r\n          console.log('ENTRE EN ORIGIN EN ROUTE');\r\n          \r\n        }.bind(this));\r\n      }\r\n  \r\n  \r\n    \r\n      //geoquery destination\r\n      setGeofireDest( radiusDest:number, latDest, lngDest, userId):void{ \r\n        console.log('se prendio geoquery destination, debo salir una sóla vez');\r\n  \r\n        let dbRef = this.afDB.database.ref(  '/geofireDest/' );\r\n        let geoFire = new GeoFire(dbRef); \r\n      \r\n        this.geoquery1 = geoFire.query({\r\n          center: [latDest, lngDest],\r\n          radius: radiusDest\r\n        })\r\n      \r\n        \r\n        this.keyEnteredDest( userId);\r\n        \r\n      \r\n      console.log('geoquery dest added');\r\n      }\r\n  \r\n  \r\n  \r\n      keyEnteredDest( userId ){\r\n        \r\n        this.geoquery1.on(\"key_entered\", function(key, location, distance){\r\n        console.log(key);\r\n        if(this.keysIdentifiedInOrigin.length !== 0){\r\n  \r\n          let count = 0\r\n          for(let element of this.keysIdentifiedInOrigin){\r\n            count = count + 1\r\n            if(element.keyTrip === key){\r\n              this.geofireDestinationConfirmed = true;\r\n              \r\n              return this.afDB.database.ref( '/geofireDest/'+ key).once('value').then((snap) => {\r\n                      this.driverOnNodeDest = snap.val();\r\n          \r\n                      this.afDB.database.ref( '/driversTest/' + this.driverOnNodeDest.driverId + '/matchingCrews/' + key).update({\r\n                          crewId: this.Key_Crew,\r\n                          adminId: userId,\r\n                          distance: element.distance,\r\n                          orRouteConf: element.orRouteConf\r\n              \r\n                      })  \r\n                  })\r\n                 \r\n               \r\n            }\r\n    \r\n            if (count === this.keysIdentifiedInOrigin.length){\r\n              console.log('si se ejecuto el for de keysOrigin');\r\n              \r\n              for(let element of this.keysIdentifiedInOriginRoute){\r\n    \r\n                if(element.keyTrip === key){\r\n                  console.log('un key de destination es igual al keytrip que fue identificado en origen');\r\n    \r\n                  this.geofireDestinationConfirmed = true;\r\n                  return this.afDB.database.ref( '/geofireDest/'+ key).once('value').then((snap) => {\r\n                    this.driverOnNodeDest = snap.val();\r\n        \r\n                    this.afDB.database.ref( '/driversTest/' + this.driverOnNodeDest.driverId + '/matchingCrews/' + key).update({\r\n                        crewId: this.Key_Crew,\r\n                        adminId: userId,\r\n                        distance: element.distance,\r\n                        orRouteConf: element.orRouteConf\r\n            \r\n                    })  \r\n                })\r\n                }\r\n    \r\n              }\r\n            }\r\n          }\r\n  \r\n        }else if(this.keysIdentifiedInOriginRoute.length !== 0){\r\n  \r\n          for(let element of this.keysIdentifiedInOriginRoute){\r\n    \r\n            if(element.keyTrip === key){\r\n              console.log('un key de destination es igual al keytrip que fue identificado en origen');\r\n  \r\n              this.geofireDestinationConfirmed = true;\r\n              return this.afDB.database.ref( '/geofireDest/'+ key).once('value').then((snap) => {\r\n                this.driverOnNodeDest = snap.val();\r\n    \r\n                this.afDB.database.ref( '/driversTest/' + this.driverOnNodeDest.driverId + '/matchingCrews/' + key).update({\r\n                    crewId: this.Key_Crew,\r\n                    adminId: userId,\r\n                    distance: element.distance,\r\n                    orRouteConf: element.orRouteConf\r\n        \r\n                })  \r\n            })\r\n            }\r\n  \r\n          }\r\n  \r\n        }else{\r\n  \r\n        }\r\n       \r\n      \r\n       }.bind(this))\r\n  \r\n  \r\n       setTimeout(() => {\r\n        this.geoquery1.on(\"ready\", function(){\r\n          \r\n          this.afDB.database.ref('allCities/' + this.city ).once('value').then((snap)=>{\r\n  \r\n              this.setGeofireRouteDest(snap.val().geofireRouteCrew,  this.latDest, this.lngDest, userId);\r\n  \r\n          })\r\n          \r\n   \r\n        \r\n      }.bind(this))\r\n    }, 300);\r\n   }\r\n  \r\n  \r\n  \r\n      //geoquery destination in route\r\n      setGeofireRouteDest( radiusRoute:number, lat, lng, userId ):void{ \r\n        console.log('se ejecutó');\r\n  \r\n        let dbRef = this.afDB.database.ref(  '/geofireRoute/' );\r\n        let geoFire = new GeoFire(dbRef); \r\n      \r\n        this.geoqueryRouteDestination = geoFire.query({\r\n          center: [lat, lng],\r\n          radius: radiusRoute\r\n        })\r\n  \r\n  \r\n        this.keyEnteredRouteDest(  userId );\r\n       \r\n        \r\n             \r\n      }\r\n  \r\n    \r\n  \r\n      keyEnteredRouteDest(userId){\r\n  \r\n        this.geoqueryRouteDestination.on(\"key_entered\", function(key, location, distance){\r\n    \r\n          \r\n          this.afDB.database.ref('/geofireRoute/' + key ).once('value').then((snap)=>{\r\n            this.keyTripForGeofireInRouteDest = snap.val().keyTrip;\r\n            this.driverIdForGeofireInRouteDest = snap.val().driverId;\r\n            \r\n            \r\n          }).then(()=>{\r\n            if(this.keysIdentifiedInOrigin !== 0){\r\n  \r\n              let count = 0\r\n              for(let element of this.keysIdentifiedInOrigin){\r\n                count = count + 1\r\n                if(element.keyTrip === this.keyTripForGeofireInRouteDest){\r\n                  this.geofireDestinationConfirmedOnRoute = true;\r\n                  \r\n                  return this.afDB.database.ref( '/geofireRoute/'+ key).once('value').then((snap) => {\r\n                    this.driverIdForGeofireInRouteDest = snap.val().driverId;\r\n                    this.keyTripForGeofireInRouteDest = snap.val().keyTrip\r\n        \r\n                    this.afDB.database.ref( '/driversTest/' + this.driverIdForGeofireInRouteDest + '/matchingCrews/' + this.keyTripForGeofireInRouteDest).update({\r\n                        crewId: this.Key_Crew,\r\n                        adminId: userId,\r\n                        distance: element.distance,\r\n                        orRouteConf: element.orRouteConf,\r\n                        destRouteConf: true\r\n            \r\n                    })  \r\n                })\r\n               \r\n                   \r\n                }\r\n    \r\n                if(count === this.keysIdentifiedInOrigin.length){\r\n                  for(let element of this.keysIdentifiedInOriginRoute){\r\n                    if(element.keyTrip === this.keyTripForGeofireInRouteDest){\r\n                      this.geofireDestinationConfirmedOnRoute = true;\r\n        \r\n                      return this.afDB.database.ref( '/geofireRoute/'+ key).once('value').then((snap) => {\r\n                        this.driverIdForGeofireInRouteDest = snap.val().driverId;\r\n                        this.keyTripForGeofireInRouteDest = snap.val().keyTrip\r\n            \r\n                        this.afDB.database.ref( '/driversTest/' + this.driverIdForGeofireInRouteDest + '/matchingCrews/' + this.keyTripForGeofireInRouteDest).update({\r\n                            crewId: this.Key_Crew,\r\n                            adminId: userId,\r\n                            distance: element.distance,\r\n                            orRouteConf: element.orRouteConf,\r\n                            destRouteConf: true\r\n                \r\n                        })  \r\n                    })\r\n                   \r\n        \r\n                    }\r\n                  }\r\n                }\r\n              }\r\n  \r\n            }else{\r\n              console.log('no hay nada en ' + this.keysIdentifiedInOrigin);\r\n              \r\n            }\r\n          })\r\n          .then(()=>{\r\n   \r\n            \r\n            if(this.keysIdentifiedInOriginRoute !== 0){\r\n  \r\n              for(let element of this.keysIdentifiedInOriginRoute){\r\n                if(element.keyTrip === this.keyTripForGeofireInRouteDest){\r\n                  this.geofireDestinationConfirmedOnRoute = true;\r\n    \r\n                    return this.afDB.database.ref( '/geofireRoute/'+ key).once('value').then((snap) => {\r\n                      this.driverIdForGeofireInRouteDest = snap.val().driverId;\r\n                      this.keyTripForGeofireInRouteDest = snap.val().keyTrip\r\n          \r\n                      this.afDB.database.ref( '/driversTest/' + this.driverIdForGeofireInRouteDest + '/matchingCrews/' + this.keyTripForGeofireInRouteDest).update({\r\n                          crewId: this.Key_Crew,\r\n                          adminId: userId,\r\n                          distance: element.distance,\r\n                          orRouteConf: element.orRouteConf,\r\n                          destRouteConf: true\r\n              \r\n                      })  \r\n                  })\r\n    \r\n                }\r\n              }\r\n  \r\n            }else{\r\n  \r\n            }\r\n           \r\n          })\r\n                  \r\n        }.bind(this))\r\n  \r\n        \r\n        this.geoqueryRouteDestination.on(\"ready\", function(){\r\n          this.loading.dismiss();\r\n          this.viewCtrl.dismiss();\r\n  \r\n          let alert = this.alertCtrl.create({\r\n            title: 'Eres administrador de este grupo',\r\n            subTitle: 'Te notificaremos si algún conductor de Waypool quiere hacer el transporte de este grupo',\r\n            buttons: [{\r\n              text: 'OK',\r\n              handler: ()=>{\r\n                this.navCtrl.push('ReservetripPage');\r\n              }\r\n            }]\r\n          });\r\n          alert.present();\r\n  \r\n        }.bind(this))\r\n  \r\n      }\r\n  \r\n  \r\n      //FINISH GEOFIRE FUNCTIONS\r\n\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/p-creategroup/creategroup.ts"],"sourceRoot":""}